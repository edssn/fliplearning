{"version":3,"sources":["../src/assignments.js"],"names":["define","Vue","Vuetify","Axios","Moment","Pagination","Chart","Pageheader","init","content","console","log","use","component","vue","delimiters","el","vuetify","data","strings","groups","userid","courseid","timezone","render_has","profile_render","loading","errors","pages","submissions","mounted","document","querySelector","style","display","computed","methods","get_help_content","update_interactions","week","action","weekcode","profile","method","url","M","cfg","wwwroot","params","then","response","catch","push","api_error_network","finally","build_chart_submissions","chart","type","backgroundColor","title","text","assignsubs_chart_title","xAxis","categories","crosshair","yAxis","min","assignsubs_chart_yaxis","tooltip","valueSuffix","plotOptions","series","cursor","point","events","click","x","column","colorIndex","users","credits","enabled","lang","noData","no_data"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/moment\",\r\n        \"local_fliplearning/pagination\",\r\n        \"local_fliplearning/chartcomponent\",\r\n        \"local_fliplearning/pageheader\",\r\n    ],\r\n    function(Vue, Vuetify, Axios, Moment, Pagination, Chart, Pageheader) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            console.log(content);\r\n            Vue.use(Vuetify)\r\n            Vue.component('pagination', Pagination);\r\n            Vue.component('chart', Chart);\r\n            Vue.component('pageheader', Pageheader);\r\n            let vue = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#submissions\",\r\n                vuetify: new Vuetify(),\r\n                data() {\r\n                    return {\r\n                        strings : content.strings,\r\n                        groups : content.groups,\r\n                        userid : content.userid,\r\n                        courseid : content.courseid,\r\n                        timezone : content.timezone,\r\n                        render_has : content.profile_render,\r\n                        loading : false,\r\n                        errors : [],\r\n                        pages : content.pages,\r\n                        submissions: content.submissions,\r\n                    }\r\n                },\r\n                mounted(){\r\n                    document.querySelector(\"#sessions-loader\").style.display = \"none\";\r\n                    document.querySelector(\"#submissions\").style.display = \"block\";\r\n                },\r\n                computed :{\r\n\r\n                },\r\n                methods : {\r\n                    get_help_content(){\r\n                        let helpcontents = `Texto de Ayuda`;\r\n                        return helpcontents;\r\n                    },\r\n\r\n                    update_interactions(week){\r\n                        this.loading = true;\r\n                        let validresponse = false;\r\n                        this.errors = [];\r\n                        let data = {\r\n                            action : \"assignments\",\r\n                            userid : this.userid,\r\n                            courseid : this.courseid,\r\n                            weekcode : week.weekcode,\r\n                            profile : this.render_has,\r\n                        }\r\n                        Axios({\r\n                            method:'get',\r\n                            url: M.cfg.wwwroot + \"/local/fliplearning/ajax.php\",\r\n                            params : data,\r\n                        }).then((response) => {\r\n                            validresponse = true;\r\n                            this.submissions = response.data.submissions;\r\n                        }).catch((e) => {\r\n                            this.errors.push(this.strings.api_error_network);\r\n                        }).finally(() => {\r\n                            this.loading = false;\r\n                        });\r\n                        return this.data;\r\n                    },\r\n\r\n                    build_chart_submissions() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'column',\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.title = {\r\n                            text: this.strings.assignsubs_chart_title,\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.submissions.categories,\r\n                            crosshair: true,\r\n                        };\r\n                        chart.yAxis = {\r\n                            min: 0,\r\n                            title: {\r\n                                text: this.strings.assignsubs_chart_yaxis\r\n                            }\r\n                        };\r\n                        chart.tooltip = {\r\n                            valueSuffix: \" estudiantes\",\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                    point: {\r\n                                    events: {\r\n                                        click: function () {\r\n                                            let x = this.x;\r\n                                            let column = this.series.colorIndex;\r\n                                            console.log({ x, column });\r\n                                            console.log(vue.submissions.users[x][column]);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.series = this.submissions.data;\r\n                        chart.credits = {\r\n                            enabled: false\r\n                        };\r\n                        chart.lang = {\r\n                            noData: this.strings.no_data,\r\n                        };\r\n                        return chart;\r\n                    },\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            init : init\r\n        };\r\n    });"],"file":"assignments.min.js"}