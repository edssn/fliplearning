{"version":3,"sources":["../src/assignments.js"],"names":["define","Vue","Vuetify","Axios","Moment","Pagination","ChartDynamic","PageHeader","EmailForm","HelpDialog","init","content","use","component","vue","delimiters","el","vuetify","data","dialog","selected_users","modulename","moduleid","strings","groups","userid","courseid","timezone","render_has","profile_render","loading","errors","pages","submissions","email_strings","emailComponent","emailTarget","access","assigns_submissions_colors","access_content_colors","access_chart_categories","access_chart_series","access_chart_users","help_dialog","help_contents","pluginSectionName","assigns_submissions_chart","content_access_chart","beforeMount","generate_access_content_data","mounted","document","querySelector","style","display","methods","get_help_content","contents","title","section_help_title","description","section_help_description","update_interactions","week","action","weekcode","profile","url","window","location","href","method","M","cfg","wwwroot","params","then","response","status","ok","error_messages","push","error_network","catch","api_error_network","finally","build_assigns_submissions_chart","chart","type","backgroundColor","fontFamily","text","colors","xAxis","categories","crosshair","yAxis","min","assignsubs_chart_yaxis","allowDecimals","tooltip","useHTML","formatter","label","x","split","serie_name","series","name","value","y","students_label","students_text","send_mail","student_text","plotOptions","cursor","point","events","click","category","subject","subject_prefix","target","replace","toLowerCase","column","colorIndex","users","modules","build_access_content_chart","access_chart_yaxis_label","labels","overflow","bar","dataLabels","enabled","get_users","module","get_moduletype","id","update_dialog","usersIds","forEach","user","selected_types_labels","types","item","show","selected_modules","includes","modules_users","access_users_data","no_access_users_data","access_users","no_access_users","filter","length","no_access","ids","mod","openChartHelp","assigns_submissions_help_title","assigns_submissions_help_description_p1","assigns_submissions_help_description_p2","access_content_help_title","access_content_help_description_p1","access_content_help_description_p2","saveInteraction","update_help_dialog","interaction","interactiontype","pluginsection","get_timezone","information","change_timezone"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/moment\",\r\n        \"local_fliplearning/pagination\",\r\n        \"local_fliplearning/chartdynamic\",\r\n        \"local_fliplearning/pageheader\",\r\n        \"local_fliplearning/emailform\",\r\n        \"local_fliplearning/helpdialog\",\r\n    ],\r\n    function(Vue, Vuetify, Axios, Moment, Pagination, ChartDynamic, PageHeader, EmailForm, HelpDialog) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            // console.logs(content);\r\n            Vue.use(Vuetify)\r\n            Vue.component('pagination', Pagination);\r\n            Vue.component('chart', ChartDynamic);\r\n            Vue.component('pageheader', PageHeader);\r\n            Vue.component('emailform', EmailForm);\r\n            Vue.component('helpdialog', HelpDialog);\r\n            let vue = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#teacher_assignments\",\r\n                vuetify: new Vuetify(),\r\n                data() {\r\n                    return {\r\n                        dialog: false,\r\n                        selected_users: [],\r\n                        modulename: \"\",\r\n                        moduleid: false,\r\n                        strings: content.strings,\r\n                        groups: content.groups,\r\n                        userid: content.userid,\r\n                        courseid: content.courseid,\r\n                        timezone: content.timezone,\r\n                        render_has: content.profile_render,\r\n                        loading: false,\r\n                        errors: [],\r\n                        pages: content.pages,\r\n                        submissions: content.submissions,\r\n                        email_strings: content.strings.email_strings,\r\n                        emailComponent: \"\",\r\n                        emailTarget: \"\",\r\n\r\n                        access: content.access,\r\n                        assigns_submissions_colors: content.assigns_submissions_colors,\r\n                        access_content_colors: content.access_content_colors,\r\n                        access_chart_categories: [],\r\n                        access_chart_series: [],\r\n                        access_chart_users: [],\r\n\r\n                        help_dialog: false,\r\n                        help_contents: [],\r\n\r\n                        pluginSectionName: \"teacher_assignments\",\r\n                        assigns_submissions_chart: \"assigns_submissions_chart\",\r\n                        content_access_chart: \"content_access_chart\",\r\n                    }\r\n                },\r\n                beforeMount() {\r\n                    this.generate_access_content_data();\r\n                },\r\n                mounted() {\r\n                    document.querySelector(\"#teacher_assignments_loader\").style.display = \"none\";\r\n                    document.querySelector(\"#teacher_assignments\").style.display = \"block\";\r\n                },\r\n                methods: {\r\n                    get_help_content() {\r\n                        let contents = [];\r\n                        contents.push({\r\n                            title: this.strings.section_help_title,\r\n                            description: this.strings.section_help_description,\r\n                        });\r\n                        return contents;\r\n                    },\r\n\r\n                    update_interactions(week) {\r\n                        this.loading = true;\r\n                        this.errors = [];\r\n                        let data = {\r\n                            action: \"assignments\",\r\n                            userid: this.userid,\r\n                            courseid: this.courseid,\r\n                            weekcode: week.weekcode,\r\n                            profile: this.render_has,\r\n                            url: window.location.href\r\n                        }\r\n                        Axios({\r\n                            method: 'get',\r\n                            url: M.cfg.wwwroot + \"/local/fliplearning/ajax.php\",\r\n                            params: data,\r\n                        }).then((response) => {\r\n                            if (response.status == 200 && response.data.ok) {\r\n                                this.submissions = response.data.data.submissions;\r\n                                this.access = response.data.data.access;\r\n                                this.generate_access_content_data();\r\n                            } else {\r\n                                this.error_messages.push(this.strings.error_network);\r\n                            }\r\n                        }).catch((e) => {\r\n                            this.errors.push(this.strings.api_error_network);\r\n                        }).finally(() => {\r\n                            this.loading = false;\r\n                        });\r\n                        return this.data;\r\n                    },\r\n\r\n                    build_assigns_submissions_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'column',\r\n                            backgroundColor: null,\r\n                            style: { fontFamily: 'poppins' },\r\n                        };\r\n                        chart.title = {\r\n                            text: null,\r\n                        };\r\n                        chart.colors = this.assigns_submissions_colors;\r\n                        chart.xAxis = {\r\n                            categories: this.submissions.categories,\r\n                            crosshair: true,\r\n                        };\r\n                        chart.yAxis = {\r\n                            min: 0,\r\n                            title: {\r\n                                text: this.strings.assignsubs_chart_yaxis\r\n                            },\r\n                            allowDecimals: false,\r\n                        };\r\n                        chart.tooltip = {\r\n                            useHTML: true,\r\n                            formatter: function() {\r\n                                let label = this.x.split('</b>');\r\n                                label = label[0] || '';\r\n                                label = label.split('<b>');\r\n                                label = label[1] || '';\r\n                                let serie_name = this.series.name;\r\n                                let value = this.y;\r\n                                let students_label = vue.strings.students_text;\r\n                                let send_mail = vue.strings.send_mail;\r\n                                if (value == 1) {\r\n                                    students_label = vue.strings.student_text;\r\n                                }\r\n                                return '<small>' + label + '</small><br/>' + '<b>' + serie_name + ': </b>' +\r\n                                    value + ' ' + students_label + '<br/>' + '<small>' + send_mail + '</small>';\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function() {\r\n                                            vue.emailComponent = \"\";\r\n                                            vue.emailTarget = \"\";\r\n\r\n                                            let serie_name = this.category.split('</b>');\r\n                                            serie_name = serie_name[0] || '';\r\n                                            serie_name = serie_name.split('<b>');\r\n                                            serie_name = serie_name[1] || '';\r\n                                            vue.email_strings.subject = `${vue.email_strings.subject_prefix} - ${serie_name}`;\r\n\r\n                                            let target = this.series.name;\r\n                                            target = `${target.replace(/ /g, '_').toLowerCase()}_users`;\r\n\r\n                                            vue.emailComponent = vue.assigns_submissions_chart;\r\n                                            vue.emailTarget = target;\r\n\r\n                                            let x = this.x;\r\n                                            let column = this.series.colorIndex;\r\n                                            vue.dialog = true;\r\n                                            vue.selected_users = vue.submissions.users[x][column];\r\n                                            vue.moduleid = vue.submissions.modules[x];\r\n                                            vue.modulename = \"assign\";\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.series = this.submissions.data;\r\n                        return chart;\r\n                    },\r\n\r\n                    build_access_content_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'bar',\r\n                            backgroundColor: null,\r\n                            style: { fontFamily: 'poppins' },\r\n                        };\r\n                        chart.title = { text: null };\r\n                        chart.colors = this.access_content_colors;\r\n                        chart.xAxis = {\r\n                            categories: this.access_chart_categories,\r\n                            title: { text: null },\r\n                            crosshair: true,\r\n                        };\r\n                        chart.yAxis = {\r\n                            min: 0,\r\n                            title: {\r\n                                text: this.strings.access_chart_yaxis_label,\r\n                            },\r\n                            labels: {\r\n                                overflow: 'justify'\r\n                            },\r\n                            allowDecimals: false,\r\n                        };\r\n                        chart.tooltip = {\r\n                            useHTML: true,\r\n                            formatter: function() {\r\n                                let label = this.x;\r\n                                let serie_name = this.series.name;\r\n                                let value = this.y;\r\n                                let students_label = vue.strings.students_text;\r\n                                let send_mail = vue.strings.send_mail;\r\n                                if (value == 1) {\r\n                                    students_label = vue.strings.student_text;\r\n                                }\r\n                                let text = '<small>' + label + '</small><br/>' + '<b>' + serie_name + ': </b>' +\r\n                                    value + ' ' + students_label + '<br/>' + '<small>' + send_mail + '</small>';\r\n                                return text;\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            bar: {\r\n                                dataLabels: {\r\n                                    enabled: false\r\n                                }\r\n                            },\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function() {\r\n                                            vue.emailComponent = \"\";\r\n                                            vue.emailTarget = \"\";\r\n\r\n                                            let serie_name = this.category;\r\n                                            vue.email_strings.subject = `${vue.email_strings.subject_prefix} - ${serie_name}`;\r\n\r\n                                            let target = this.series.name;\r\n                                            target = `${target.replace(/ /g, '_').toLowerCase()}_users`;\r\n\r\n                                            vue.emailComponent = vue.content_access_chart;\r\n                                            vue.emailTarget = target;\r\n\r\n                                            let x = this.x;\r\n                                            let column = this.series.colorIndex;\r\n                                            let users = vue.get_users(vue.access_chart_users[x][column]);\r\n                                            vue.selected_users = users;\r\n                                            let module = vue.get_moduletype(this.category);\r\n                                            vue.modulename = module.type;\r\n                                            vue.moduleid = module.id;\r\n                                            vue.dialog = true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.series = this.access_chart_series;\r\n                        return chart;\r\n                    },\r\n\r\n                    update_dialog(value) {\r\n                        this.dialog = value;\r\n                    },\r\n\r\n                    generate_access_content_data() {\r\n                        let usersIds = [];\r\n                        this.access.users.forEach(user => {\r\n                            usersIds.push(Number(user.id));\r\n                        });\r\n                        let selected_types_labels = [];\r\n                        this.access.types.forEach(item => {\r\n                            if (item.show) {\r\n                                selected_types_labels.push(item.type);\r\n                            }\r\n                        });\r\n                        let selected_modules = [];\r\n                        this.access.modules.forEach(module => {\r\n                            if (selected_types_labels.includes(module.type)) {\r\n                                selected_modules.push(module);\r\n                            }\r\n                        });\r\n                        let categories = [];\r\n                        let modules_users = [];\r\n                        let access_users_data = [];\r\n                        let no_access_users_data = [];\r\n                        selected_modules.forEach(module => {\r\n                            categories.push(module.name);\r\n                            let access_users = module.users;\r\n                            let no_access_users = usersIds.filter(x => !access_users.includes(x));\r\n                            access_users_data.push(access_users.length);\r\n                            no_access_users_data.push(no_access_users.length);\r\n                            modules_users.push([access_users, no_access_users]);\r\n                        });\r\n                        let series = [\r\n                            { name: this.strings.access, data: access_users_data },\r\n                            { name: this.strings.no_access, data: no_access_users_data },\r\n                        ];\r\n                        this.access_chart_categories = categories;\r\n                        this.access_chart_series = series;\r\n                        this.access_chart_users = modules_users;\r\n                    },\r\n\r\n                    get_users(ids) {\r\n                        let users = [];\r\n                        this.access.users.forEach(user => {\r\n                            let userid = Number(user.id);\r\n                            if (ids.includes(userid)) {\r\n                                users.push(user);\r\n                            }\r\n                        });\r\n                        return users;\r\n                    },\r\n\r\n                    get_moduletype(modulename) {\r\n                        let mod;\r\n                        this.access.modules.forEach(module => {\r\n                            if (module.name === modulename) {\r\n                                mod = module;\r\n                            }\r\n                        });\r\n                        return mod;\r\n                    },\r\n\r\n                    openChartHelp(chart) {\r\n                        let contents = [];\r\n                        if (chart == this.assigns_submissions_chart) {\r\n                            contents.push({\r\n                                title: this.strings.assigns_submissions_help_title,\r\n                                description: this.strings.assigns_submissions_help_description_p1,\r\n                            });\r\n                            contents.push({\r\n                                description: this.strings.assigns_submissions_help_description_p2,\r\n                            });\r\n                        } else if (chart == this.content_access_chart) {\r\n                            contents.push({\r\n                                title: this.strings.access_content_help_title,\r\n                                description: this.strings.access_content_help_description_p1,\r\n                            });\r\n                            contents.push({\r\n                                description: this.strings.access_content_help_description_p2,\r\n                            });\r\n                        }\r\n                        this.help_contents = contents;\r\n                        if (this.help_contents.length) {\r\n                            this.help_dialog = true;\r\n                            this.saveInteraction (chart, \"viewed\", \"chart_help_dialog\", 7);\r\n                        }\r\n                    },\r\n\r\n                    update_help_dialog(value) {\r\n                        this.help_dialog = value;\r\n                    },\r\n\r\n                    saveInteraction (component, interaction, target, interactiontype) {\r\n                        let data = {\r\n                            action : \"saveinteraction\",\r\n                            pluginsection : this.pluginSectionName,\r\n                            component,\r\n                            interaction,\r\n                            target,\r\n                            url: window.location.href,\r\n                            interactiontype,\r\n                            courseid : this.courseid,\r\n                            userid : this.userid,\r\n                        };\r\n                        Axios({\r\n                            method:'get',\r\n                            url: `${M.cfg.wwwroot}/local/fliplearning/ajax.php`,\r\n                            params : data,\r\n                        }).then((r) => {}).catch((e) => {});\r\n                    },\r\n\r\n                    get_timezone() {\r\n                        let information = `${this.strings.change_timezone} ${this.timezone}`\r\n                        return information;\r\n                    },\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            init: init\r\n        };\r\n    });"],"file":"assignments.min.js"}