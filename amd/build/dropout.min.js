define ("local_fliplearning/dropout",["local_fliplearning/vue","local_fliplearning/vuetify","local_fliplearning/axios","local_fliplearning/moment","local_fliplearning/pagination","local_fliplearning/chartdynamic","local_fliplearning/pageheader"],function(a,b,c,d,e,f,g){"use strict";return{init:function(d){console.log(d);a.use(b);a.component("pagination",e);a.component("chart",f);a.component("pageheader",g);var h=new a({delimiters:["[[","]]"],el:"#dropout",vuetify:new b,data:function data(){return{strings:d.strings,groups:d.groups,userid:d.userid,courseid:d.courseid,timezone:d.timezone,render_has:d.profile_render,loading:!1,errors:[],pages:d.pages,dropout:d.dropout,selected_cluster:[],cluster_users:[],selected_user:{},search:null}},beforeMount:function beforeMount(){if(this.dropout.clusters.length){this.selected_cluster=this.dropout.clusters[0];this.change_cluster(this.selected_cluster.users)}},mounted:function mounted(){document.querySelector("#sessions-loader").style.display="none";document.querySelector("#dropout").style.display="block"},computed:{},methods:{get_help_content:function get_help_content(){return"Texto de Ayuda"},change_cluster:function change_cluster(a){var b=[];this.dropout.users.forEach(function(c){if(a.includes(c.id)){b.push(c)}});this.cluster_users=b;this.selected_user=this.cluster_users[0]||{};console.log(this.cluster_users);console.log(this.selected_user)},update_interactions:function update_interactions(a){var b=this;this.loading=!0;this.errors=[];var d={action:"time",userid:this.userid,courseid:this.courseid,weekcode:a.weekcode,profile:this.render_has};c({method:"get",url:M.cfg.wwwroot+"/local/fliplearning/ajax.php",params:d}).then(function(a){if(200==a.status&&a.data.ok){b.inverted_time=a.data.data.inverted_time}else{b.error_messages.push(b.strings.error_network)}}).catch(function(){b.errors.push(b.strings.api_error_network)}).finally(function(){b.loading=!1});return this.data},table_headers:function table_headers(){var a=[{text:"",value:"id",align:"center",sortable:!1},{text:this.strings.thead_name,value:"firstname"},{text:this.strings.thead_lastname,value:"lastname"},{text:this.strings.thead_progress,value:"progress_percentage"}];return a},change_user:function change_user(a){this.selected_user=a},get_picture_url:function get_picture_url(a){return"".concat(M.cfg.wwwroot,"/user/pix.php?file=/").concat(a,"/f1.jpg")},get_user_fullname:function get_user_fullname(){return"".concat(this.selected_user.firstname," ").concat(this.selected_user.lastname)},get_username:function get_username(){return"@".concat(this.selected_user.username)},see_profile:function see_profile(){var a=this.selected_user.id,b=M.cfg.wwwroot+"/user/view.php?id="+a+"&course="+h.courseid;window.open(b)},get_timezone:function get_timezone(){var a="".concat(this.strings.ss_change_timezone," ").concat(this.timezone);return a}}})}}});
//# sourceMappingURL=dropout.min.js.map
