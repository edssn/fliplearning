define ("local_fliplearning/quiz",["local_fliplearning/vue","local_fliplearning/vuetify","local_fliplearning/axios","local_fliplearning/moment","local_fliplearning/pagination","local_fliplearning/chartcomponent","local_fliplearning/pageheader"],function(a,b,c,d,e,f,g){"use strict";return{init:function(d){console.log(d);a.use(b);a.component("pagination",e);a.component("chart",f);a.component("pageheader",g);new a({delimiters:["[[","]]"],el:"#quiz",vuetify:new b,data:function data(){return{strings:d.strings,groups:d.groups,userid:d.userid,courseid:d.courseid,timezone:d.timezone,render_has:d.profile_render,loading:!1,errors:[],pages:d.pages,quiz:d.quiz,default_quiz:null,attempts_categories:[],attempts_series:[],hardest_categories:[],hardest_series:[]}},beforeMount:function beforeMount(){if(this.quiz.data.length){this.default_quiz=this.quiz.data[0].attempts;this.calculate_questions_attempts(this.default_quiz)}},mounted:function mounted(){document.querySelector("#sessions-loader").style.display="none";document.querySelector("#quiz").style.display="block"},computed:{},methods:{get_help_content:function get_help_content(){return"Texto de Ayuda"},get_quiz_info_text1:function get_quiz_info_text1(){var a=this.default_quiz.details.questions,b=this.strings.questions_text;if(1==a){b=this.strings.question_text}var c="* ".concat(this.strings.quiz_info_text," ").concat(a," ").concat(b);return c},get_quiz_info_text2:function get_quiz_info_text2(){var a=this.default_quiz.details.attempts,b=this.strings.attempts_text;if(1==a){b=this.strings.attempt_text}var c=this.default_quiz.details.users,d=this.strings.students_text;if(1==c){d=this.strings.student_text}var e="* ".concat(a," ").concat(b," ").concat(c," ").concat(d);return e},build_chart_questions_attempts:function build_chart_questions_attempts(){var a={};a.chart={type:"column",backgroundColor:"#FAFAFA"};a.title={text:"Intentos de Preguntas"};a.subtitle={text:"Subtitulo"};a.xAxis={categories:this.attempts_categories};a.yAxis=[{min:0,allowDecimals:!1,title:{text:"N\xFAmero de Intentos"}}];a.plotOptions={column:{stacking:"normal"}};a.series=this.attempts_series;a.credits={enabled:!1};a.lang={noData:this.strings.no_data};return a},build_chart_hardest_questions:function build_chart_hardest_questions(){var a={};a.chart={type:"column",backgroundColor:"#FAFAFA"};a.title={text:"Preguntas mas dificiles"};a.subtitle={text:"subtitulo"};a.xAxis={categories:this.hardest_categories};a.legend={enabled:!1};a.yAxis=[{min:0,allowDecimals:!1,title:{text:"Intentos incorrectos"}}];a.series=this.hardest_series;a.credits={enabled:!1};a.lang={noData:this.strings.no_data};return a},calculate_questions_attempts:function calculate_questions_attempts(a){console.log(a);var b=a.questions,c=[],d=1,e=[],f=[],g=[],h=[],i=[],j=[],k,l,m,n,o,p=0;b.forEach(function(a){k,l,m,n,o=0;k=(a.gradedright||0)+(a.mangrright||0);l=(a.gradedpartial||0)+(a.mangrpartial||0);m=(a.gradedwrong||0)+(a.mangrwrong||0);n=(a.gaveup||0)+(a.mangaveup||0);o=(a.needsgrading||0)+(a.mangaveup||0)+(a.finished||0)+(a.manfinished||0);e.push(k);f.push(l);g.push(m);h.push(n);i.push(o);p=l+m+n;j.push({qu:"P".concat(d),in:p});c.push("P".concat(d++))});j.sort(this.compare_hardest);var q=[],r=[];j.forEach(function(a){if(a.in){q.push(a.qu);r.push(a.in)}});this.attempts_categories=c;this.attempts_series=[{name:"Correctas",data:e},{name:"Parcialmente Correctas",data:f},{name:"Incorrectas",data:g},{name:"No intentadas",data:h},{name:"Sin calificar",data:i}];this.hardest_categories=q;this.hardest_series=[{name:"Intentos Incorrectos",data:r}]},compare_hardest:function compare_hardest(c,a){if(c.in>a.in){return-1}if(c.in<a.in){return 1}return 0},change_quiz:function change_quiz(a){console.log(a)},update_interactions:function update_interactions(a){var b=this;this.loading=!0;this.errors=[];var d={action:"time",userid:this.userid,courseid:this.courseid,weekcode:a.weekcode,profile:this.render_has};c({method:"get",url:M.cfg.wwwroot+"/local/fliplearning/ajax.php",params:d}).then(function(a){if(!(200==a.status&&a.data.ok)){b.error_messages.push(b.strings.error_network)}}).catch(function(){b.errors.push(b.strings.api_error_network)}).finally(function(){b.loading=!1});return this.data}}})}}});
//# sourceMappingURL=quiz.min.js.map
