{"version":3,"sources":["../src/student.js"],"names":["define","Vue","Vuetify","Axios","Moment","MomentTimezone","Pagination","ChartStatic","Pageheader","Modulesform","init","content","use","component","vue","delimiters","el","vuetify","data","strings","groups","userid","courseid","timezone","render_has","profile_render","loading","modules_dialog","errors","indicators","user","weeks_sessions","sessions","sessions_evolution_data","user_grades_categories","user_grades_data","course_grades_data","selected_sections","beforeMount","set_modules_in_sections","calculate_sessions_evolution","calculate_user_grades","mounted","document","querySelector","style","display","methods","get_help_content","sectionsMap","Map","sectionid","cms","forEach","cm","section","has","set","get","push","sections","modules","build_modules_access_chart","chart","type","backgroundColor","subtitle","text","firstname","lastname","title","modules_access_chart_title","xAxis","yAxis","allowDecimals","enabled","modules_amount","tooltip","shared","formatter","module_text","y","module_label","modules_label","points","key","modules_details","plotOptions","series","cursor","point","events","click","open_modules_modal","x","legend","colorByPoint","name","modules_access_chart_series_viewed","viewed","modules_access_chart_series_complete","complete","modules_access_chart_series_total","total","build_session_by_weeks_chart","weeks_sessions_title","marginTop","marginBottom","plotBorderWidth","categories","weeks","reversed","colorAxis","min","stops","layout","margin","verticalAlign","days","xCategoryName","get_point_category_name","yCategoryName","label","sessions_text","value","session_text","borderWidth","borderColor","dataLabels","build_sessions_evolution_chart","zoomType","sessions_evolution_chart_title","sessions_evolution_chart_xaxis1","sessions_evolution_chart_xaxis2","opposite","useHTML","date_label","calculate_timezone_date_string","text1","get_sessions_evolution_tooltip","text2","build_user_grades_chart","user_grades_chart_title","crosshair","max","labels","format","user_grades_chart_yaxis","itemname","position","item","gradeitems","header","footer","user_grades_chart_view_activity","body","gradecount","user_grades_chart_tooltip_no_graded","get_user_grades_tooltip","url","M","cfg","wwwroot","itemmodule","coursemoduleid","window","open","sessions_data","time_data","sumtime","sumsessions","time","timestamp","session","start","duration","sessions_evolution_chart_legend1","sessions_evolution_chart_legend2","course_grades","user_grades","user_grade","user_name","finalgrade","grademax","average_percentage","user_grades_chart_legend","dat","weekday","monthday","month","tz","zone","day","date","Intl","DateTimeFormat","resolvedOptions","timeZone","Date","getDay","getDate","getMonth","getHours","getMinutes","getSeconds","weekdays","shortMonths","dimension","isY","axis","sessions_suffix","sessions_prefix","time_prefix","colorIndex","color","convert_time","serie_name","average","isInt","toFixed","module","interactions","user_cm","id","get_picture_url","get_user_fullname","get_username","username","see_profile","get_progress_percentage","progress_percentage","get_progress_message","finished_label","finisheds_label","of_conector","h","hours_short","m","minutes_short","s","seconds_short","hours","Math","floor","minutes","seconds","get_student_grade","grade","coursegrade","maxgrade","student_grade","max_grade","update_modules_dialog","n","get_timezone","information","ss_change_timezone"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/moment\",\r\n        \"local_fliplearning/momenttimezone\",\r\n        \"local_fliplearning/pagination\",\r\n        \"local_fliplearning/chartstatic\",\r\n        \"local_fliplearning/pageheader\",\r\n        \"local_fliplearning/modulesform\"\r\n    ],\r\n    function(Vue, Vuetify, Axios, Moment, MomentTimezone, Pagination, ChartStatic, Pageheader, Modulesform) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            // console.log(content);\r\n            Vue.use(Vuetify);\r\n            Vue.component('pagination', Pagination);\r\n            Vue.component('chart', ChartStatic);\r\n            Vue.component('pageheader', Pageheader);\r\n            Vue.component('modulesform', Modulesform);\r\n            let vue = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#student\",\r\n                vuetify: new Vuetify(),\r\n                data() {\r\n                    return {\r\n                        strings : content.strings,\r\n                        groups : content.groups,\r\n                        userid : content.userid,\r\n                        courseid : content.courseid,\r\n                        timezone : content.timezone,\r\n                        render_has : content.profile_render,\r\n                        loading : false,\r\n                        modules_dialog: false,\r\n                        errors : [],\r\n\r\n                        indicators: content.indicators,\r\n                        user: content.indicators.user,\r\n                        weeks_sessions: content.indicators.sessions,\r\n                        sessions_evolution_data: [],\r\n                        user_grades_categories: [],\r\n                        user_grades_data: [],\r\n                        course_grades_data: [],\r\n                        selected_sections: [],\r\n                    }\r\n                },\r\n                beforeMount(){\r\n                    this.set_modules_in_sections();\r\n                    this.calculate_sessions_evolution();\r\n                    this.calculate_user_grades()\r\n                },\r\n                mounted(){\r\n                    document.querySelector(\"#sessions-loader\").style.display = \"none\";\r\n                    document.querySelector(\"#student\").style.display = \"block\";\r\n                },\r\n                methods : {\r\n                    get_help_content(){\r\n                        return '';\r\n                    },\r\n\r\n                    set_modules_in_sections() {\r\n                        let sectionsMap = new Map();\r\n                        let sectionid = 0;\r\n                        this.indicators.cms.forEach(cm => {\r\n                            sectionid = Number(cm.section);\r\n                            if (!sectionsMap.has(sectionid)) {\r\n                                sectionsMap.set(sectionid, [cm]);\r\n                            } else {\r\n                                sectionsMap.get(sectionid).push(cm);\r\n                            }\r\n                        });\r\n                        this.indicators.sections.forEach(section => {\r\n                            sectionid = Number(section.sectionid);\r\n                            section.sectionid = sectionid;\r\n                            section.modules = sectionsMap.get(sectionid);\r\n                        });\r\n                    },\r\n\r\n                    build_modules_access_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'bar',\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.subtitle = {\r\n                            text: `${this.user.firstname} ${this.user.lastname}`,\r\n                        };\r\n                        chart.title = {\r\n                            text: this.strings.modules_access_chart_title,\r\n                        };\r\n                        chart.xAxis = {\r\n                            type: 'category',\r\n                        };\r\n                        chart.yAxis = {\r\n                            allowDecimals: false,\r\n                            title: {\r\n                                enabled: true,\r\n                                text: this.strings.modules_amount,\r\n                            }\r\n                        };\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            formatter: function () {\r\n                                let module_text = (this.y == 1) ? vue.strings.module_label : vue.strings.modules_label;\r\n                                return '<b>' + this.points[0].key + '</b>: ' + this.y + ' ' + module_text + '<br/>'\r\n                                    + '<i>'+ vue.strings.modules_details + '<i/>';\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function () {\r\n                                            vue.open_modules_modal(this.x);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        chart.legend = {\r\n                                enabled: false\r\n                            };\r\n                        chart.series = [{\r\n                            colorByPoint: true,\r\n                            data: [\r\n                                {name: this.strings.modules_access_chart_series_viewed, y: this.user.cms.viewed},\r\n                                {name: this.strings.modules_access_chart_series_complete, y: this.user.cms.complete},\r\n                                {name: this.strings.modules_access_chart_series_total, y: this.user.cms.total}\r\n                            ]\r\n                        }];\r\n                        return chart;\r\n                    },\r\n\r\n                    build_session_by_weeks_chart() {\r\n                        let chart = new Object();\r\n                        chart.title = {\r\n                            text: this.strings.weeks_sessions_title,\r\n                        };\r\n                        chart.chart = {\r\n                            type: 'heatmap',\r\n                            marginTop: 40,\r\n                            marginBottom: 80,\r\n                            plotBorderWidth: 0,\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.strings.weeks,\r\n                        };\r\n                        chart.yAxis = {\r\n                            categories: this.weeks_sessions.categories,\r\n                            title: null,\r\n                            reversed: true,\r\n                        };\r\n                        chart.colorAxis = {\r\n                            min: 0,\r\n                            stops: [\r\n                                [0.0, '#E0E0E0'],\r\n                                [0.25, '#D6E7F9'],\r\n                                [0.50, '#9AC4EF'],\r\n                                [0.75, '#5DA1E5'],\r\n                                [1, '#3384D6'],\r\n                            ],\r\n                        };\r\n                        chart.legend = {\r\n                            layout: 'horizontal',\r\n                            margin: 30,\r\n                            verticalAlign: 'bottom',\r\n                        };\r\n                        chart.tooltip = {\r\n                            formatter: function () {\r\n                                let days = vue.weeks_sessions.weeks[this.point.y][this.point.x] || '';\r\n                                let xCategoryName = vue.get_point_category_name(this.point, 'x');\r\n                                let yCategoryName = vue.get_point_category_name(this.point, 'y');\r\n                                let label = vue.strings.sessions_text;\r\n                                if (this.point.value == 1) {\r\n                                    label = vue.strings.session_text;;\r\n                                }\r\n                                return '<b>' + yCategoryName + ' ' + xCategoryName + '</b>: '\r\n                                    + this.point.value +' ' + label + '<br/>' + days;\r\n                            }\r\n                        };\r\n                        chart.series = [{\r\n                            borderWidth: 2,\r\n                            borderColor: '#FAFAFA',\r\n                            data: this.weeks_sessions.data,\r\n                            dataLabels: {\r\n                                enabled: false,\r\n                            }\r\n                        }];\r\n                        return chart;\r\n                    },\r\n\r\n                    build_sessions_evolution_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            zoomType: 'x',\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.subtitle = {\r\n                            text: `${this.user.firstname} ${this.user.lastname}`,\r\n                        };\r\n                        chart.title = {\r\n                            text: this.strings.sessions_evolution_chart_title,\r\n                        };\r\n                        chart.xAxis = {\r\n                            type: 'datetime'\r\n                        };\r\n                        chart.yAxis = [{\r\n                            allowDecimals: false,\r\n                            title: { text: this.strings.sessions_evolution_chart_xaxis1 }\r\n                        }, {\r\n                            title: { text: this.strings.sessions_evolution_chart_xaxis2 },\r\n                            opposite: true\r\n                        }];\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            useHTML: true,\r\n                            formatter: function () {\r\n                                let date_label = vue.calculate_timezone_date_string(this.x);\r\n                                let text1 = (this.points[0]) ? vue.get_sessions_evolution_tooltip(this.points[0]) : '';\r\n                                let text2 = (this.points[1]) ? vue.get_sessions_evolution_tooltip(this.points[1]) : '';\r\n                                return `<small>${date_label}</small><br/>${text1}${text2}`;\r\n                            }\r\n                        };\r\n                        chart.series = this.sessions_evolution_data;\r\n                        return chart;\r\n                    },\r\n\r\n                    build_user_grades_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'column',\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.title = {\r\n                            text: this.strings.user_grades_chart_title,\r\n                        };\r\n                        chart.subtitle = {\r\n                            text: `${this.user.firstname} ${this.user.lastname}`,\r\n                        };\r\n                        chart.xAxis = {\r\n                            crosshair: true,\r\n                            categories: this.user_grades_categories,\r\n                        };\r\n                        chart.yAxis = {\r\n                            allowDecimals: false,\r\n                            max: 100,\r\n                            labels: {\r\n                                format: '{value} %',\r\n                            },\r\n                            title: { text: this.strings.user_grades_chart_yaxis }\r\n                        };\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            useHTML: true,\r\n                            formatter: function () {\r\n                                let itemname = this.x;\r\n                                let position = this.points[0].point.x;\r\n                                let item = vue.user.gradeitems[position];\r\n                                let header = `<small>${itemname}</small><br/>`;\r\n                                let footer = `<i>(${vue.strings.user_grades_chart_view_activity})</i><br/>`;\r\n                                let body = '';\r\n                                if (item.gradecount == 0) {\r\n                                    body = vue.strings.user_grades_chart_tooltip_no_graded;\r\n                                } else {\r\n                                    let text1 = (this.points[0]) ? vue.get_user_grades_tooltip(this.points[0], item) : '';\r\n                                    let text2 = (this.points[1]) ? vue.get_user_grades_tooltip(this.points[1], item) : '';\r\n                                    body = `${text1}${text2}${footer}`;\r\n                                }\r\n                                return `${header}${body}`;\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function () {\r\n                                            let position = this.x;\r\n                                            let item = vue.user.gradeitems[position];\r\n                                            let url = `${M.cfg.wwwroot}/mod/${item.itemmodule}/view.php?id=${item.coursemoduleid}`;\r\n                                            window.open(url, '_blank');\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.series = this.user_grades_data;\r\n                        return chart;\r\n                    },\r\n\r\n                    calculate_sessions_evolution() {\r\n                        let sessions_data = [], time_data = [];\r\n                        let sumtime = 0, sumsessions = 0, time = 0, timestamp = 0;\r\n                        this.user.sessions.forEach(session => {\r\n                            timestamp = Number(session.start) * 1000;\r\n                            time = (Number(session.duration)) / 60;\r\n                            sumtime += time;\r\n                            sumsessions++;\r\n                            sessions_data.push({ x: timestamp, y: sumsessions });\r\n                            time_data.push({ x: timestamp, y: sumtime });\r\n                        });\r\n                        this.sessions_evolution_data = [\r\n                            { name: this.strings.sessions_evolution_chart_legend1, yAxis: 0, data: sessions_data },\r\n                            { name: this.strings.sessions_evolution_chart_legend2, yAxis: 1, data: time_data },\r\n                        ];\r\n                    },\r\n\r\n                    calculate_user_grades() {\r\n                        let categories = [], course_grades = [], user_grades = [];\r\n                        let user_grade = 0, user_name = this.user.firstname;\r\n                        this.user.gradeitems.forEach(item => {\r\n                            user_grade = (Number(item.finalgrade) * 100) / Number(item.grademax);\r\n                            categories.push(item.itemname);\r\n                            course_grades.push(item.average_percentage);\r\n                            user_grades.push(user_grade);\r\n                        });\r\n                        this.user_grades_data = [\r\n                            { name: user_name, data: user_grades },\r\n                            { name: this.strings.user_grades_chart_legend, data: course_grades },\r\n                        ];\r\n                        this.user_grades_categories = categories;\r\n                    },\r\n\r\n                    calculate_timezone_date_string(timestamp) {\r\n                        let dat, weekday, monthday, month, time;\r\n                        if (Moment.tz.zone(this.timezone)) {\r\n                            dat = Moment(timestamp).tz(this.timezone);\r\n                            weekday = dat.day();\r\n                            monthday = dat.date();\r\n                            month = dat.month();\r\n                            time = dat.format('HH:mm:ss');\r\n                        } else {\r\n                            let tz = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n                            dat =  new Date(timestamp);\r\n                            weekday = dat.getDay();\r\n                            monthday = dat.getDate();\r\n                            month = dat.getMonth();\r\n                            time = `${dat.getHours()}:${dat.getMinutes()}:${dat.getSeconds()} (${tz})`;\r\n                        }\r\n                        weekday = this.strings.chart.weekdays[weekday];\r\n                        month = this.strings.chart.shortMonths[month];\r\n                        return `${weekday}, ${month} ${monthday}, ${time}`;\r\n                    },\r\n\r\n                    get_point_category_name(point, dimension) {\r\n                        let series = point.series,\r\n                            isY = dimension === 'y',\r\n                            axis = series[isY ? 'yAxis' : 'xAxis'];\r\n                        return axis.categories[point[isY ? 'y' : 'x']];\r\n                    },\r\n\r\n                    get_sessions_evolution_tooltip (point) {\r\n                        let text = '', sessions, sessions_suffix, sessions_prefix, time_prefix, time;\r\n                        if (point.colorIndex == 0) {\r\n                            sessions = point.y;\r\n                            sessions_suffix = (sessions == 1) ? vue.strings.session_text : vue.strings.sessions_text;\r\n                            sessions_prefix = point.series.name;\r\n                            text = `<b style=\"color: ${point.color}\">${sessions_prefix}: </b>\r\n                                     ${sessions} ${sessions_suffix}<br/>`;\r\n                        } else {\r\n                            time_prefix = point.series.name;\r\n                            time = vue.convert_time(point.y * 60);\r\n                            text = `<b style=\"color: ${point.color}\">${time_prefix}: </b>\r\n                                    ${time}<br/>`;\r\n                        }\r\n                        return text;\r\n                    },\r\n\r\n                    get_user_grades_tooltip (point, item) {\r\n                        let serie_name = point.series.name, user_grade = 0;\r\n                        let finalgrade = Number(item.finalgrade), average = Number(item.average), grademax = Number(item.grademax);\r\n                        grademax = this.isInt(grademax) ? grademax : grademax.toFixed(2);\r\n                        if (point.colorIndex == 0) {\r\n                            user_grade = this.isInt(finalgrade) ? finalgrade : finalgrade.toFixed(2);\r\n                        } else {\r\n                            user_grade = this.isInt(average) ? average : average.toFixed(2);\r\n                        }\r\n                        return `<b style=\"color: ${point.color}\">${serie_name}: </b>\r\n                                     ${user_grade}/${grademax}<br/>`;\r\n                    },\r\n\r\n                    open_modules_modal(){\r\n                        let sections = this.indicators.sections;\r\n                        sections.forEach(section => {\r\n                            section.modules.forEach(module => {\r\n                                module.complete = false;\r\n                                module.viewed = false;\r\n                                module.interactions = 0;\r\n                                let user_cm = this.user.cms.modules[`cm${module.id}`];\r\n                                if (user_cm) {\r\n                                    module.complete = user_cm.complete;\r\n                                    module.viewed = user_cm.viewed;\r\n                                    module.interactions = user_cm.interactions;\r\n                                }\r\n                            });\r\n                        });\r\n\r\n                        this.modules_dialog = true;\r\n                        this.selected_sections = sections;\r\n                    },\r\n\r\n                    get_picture_url(userid){\r\n                        return `${M.cfg.wwwroot}/user/pix.php?file=/${userid}/f1.jpg`;\r\n                    },\r\n\r\n                    get_user_fullname(){\r\n                        return `${this.user.firstname} ${this.user.lastname}`;\r\n                    },\r\n\r\n                    get_username(){\r\n                        return `@${this.user.username}`;\r\n                    },\r\n\r\n                    see_profile () {\r\n                        let id = this.user.id;\r\n                        let url = M.cfg.wwwroot + '/user/view.php?id='+id+'&course='+vue.courseid;\r\n                        window.open(url);\r\n                    },\r\n\r\n                    get_progress_percentage() {\r\n                        return `${this.user.progress_percentage} %`;\r\n                    },\r\n\r\n                    get_progress_message(){\r\n                        let module_label = this.strings.modules_label;\r\n                        let finished_label = this.strings.finisheds_label;\r\n                        if (this.user.cms.complete == 1) {\r\n                            module_label = this.strings.module_label;\r\n                            finished_label = this.strings.finished_label;\r\n                        }\r\n                        return `${this.user.cms.complete} ${module_label} ${finished_label} ${this.strings.of_conector} ${this.user.cms.total}`;\r\n                    },\r\n\r\n                    convert_time(time) {\r\n                        time *= 60; // pasar los minutos a segundos\r\n                        let h = this.strings.hours_short;\r\n                        let m = this.strings.minutes_short;\r\n                        let s = this.strings.seconds_short;\r\n                        let hours = Math.floor(time / 3600);\r\n                        let minutes = Math.floor((time % 3600) / 60);\r\n                        let seconds = Math.floor(time % 60);\r\n                        let text;\r\n                        if (hours >= 1) {\r\n                            if (minutes >= 1) {\r\n                                text = `${hours}${h} ${minutes}${m}`;\r\n                            } else {\r\n                                text = `${hours}${h}`;\r\n                            }\r\n                        } else if ((minutes >= 1)) {\r\n                            if (seconds >= 1) {\r\n                                text = `${minutes}${m} ${seconds}${s}`;\r\n                            } else {\r\n                                text = `${minutes}${m}`;\r\n                            }\r\n                        } else {\r\n                            text = `${seconds}${s}`;\r\n                        }\r\n                        return text;\r\n                    },\r\n\r\n                    get_student_grade() {\r\n                        let grade = this.user.coursegrade;\r\n                        grade.finalgrade = Number(grade.finalgrade);\r\n                        grade.maxgrade = Number(grade.maxgrade);\r\n                        let student_grade = this.isInt(grade.finalgrade) ? grade.finalgrade : grade.finalgrade.toFixed(2);\r\n                        let max_grade = this.isInt(grade.maxgrade) ? grade.maxgrade : grade.maxgrade.toFixed(2);\r\n                        return `${student_grade}/${max_grade}`;\r\n                    },\r\n\r\n                    update_modules_dialog(value) {\r\n                        this.modules_dialog = value;\r\n                    },\r\n\r\n                    isInt(n) {\r\n                        return n % 1 === 0;\r\n                    },\r\n\r\n                    get_timezone(){\r\n                        let information = `${this.strings.ss_change_timezone} ${this.timezone}`\r\n                        return information;\r\n                    },\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            init : init\r\n        };\r\n    });"],"file":"student.min.js"}