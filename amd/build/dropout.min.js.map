{"version":3,"sources":["../src/dropout.js"],"names":["define","Vue","Vuetify","Axios","Moment","MomentTimezone","Pagination","ChartDynamic","Pageheader","Emailform","Modulesform","init","content","use","component","vue","delimiters","el","vuetify","data","strings","groups","userid","courseid","timezone","render_has","profile_render","loading","errors","pages","dropout","modules_access_colors","week_modules_colors","sessions_evolution_colors","user_grades_colors","selected_cluster","cluster_users","selected_user","search","week_modules_chart_data","week_modules_chart_categories","selected_sections","sessions_evolution_data","user_grades_categories","user_grades_data","modules_dialog","email_users","email_dialog","modulename","moduleid","email_strings","beforeMount","clusters","length","set_modules_in_sections","change_cluster","users","mounted","document","querySelector","style","display","computed","methods","get_help_content","sectionsMap","Map","sectionid","cms","forEach","cm","section","has","set","get","push","sections","modules","selected_users","user","includes","id","change_user","calculate_modules_access_by_week","calculate_sessions_evolution","calculate_user_grades","weekcompletecms","weekviewedcms","completecms","viewedcms","categories","user_cm","weeks","week","sections_modules","module","complete","viewed","name","position","modules_access_chart_series_viewed","modules_access_chart_series_complete","sessions_data","time_data","sumtime","sumsessions","time","timestamp","sessions","session","start","duration","x","y","sessions_evolution_chart_legend1","yAxis","sessions_evolution_chart_legend2","course_grades","user_grades","user_grade","user_name","firstname","gradeitems","item","finalgrade","grademax","itemname","average_percentage","user_grades_chart_legend","build_modules_access_chart","chart","type","backgroundColor","fontFamily","title","text","colors","xAxis","allowDecimals","enabled","modules_amount","tooltip","shared","formatter","module_text","module_label","modules_label","points","key","modules_details","plotOptions","series","cursor","point","events","click","open_modules_modal","legend","colorByPoint","modules_access_chart_series_total","total","build_week_modules_chart","crosshair","useHTML","text1","text2","module_text_viewed","viewed_series_name","color","module_text_completed","completed_series_name","colorIndex","build_sessions_evolution_chart","zoomType","sessions_evolution_chart_xaxis1","sessions_evolution_chart_xaxis2","opposite","date_label","calculate_timezone_date_string","get_sessions_evolution_tooltip","build_user_grades_chart","max","labels","format","user_grades_chart_yaxis","header","footer","user_grades_chart_view_activity","body","gradecount","user_grades_chart_tooltip_no_graded","get_user_grades_tooltip","url","M","cfg","wwwroot","itemmodule","coursemoduleid","window","open","sessions_suffix","sessions_prefix","time_prefix","session_text","sessions_text","convert_time","serie_name","average","isInt","toFixed","dat","weekday","monthday","month","tz","zone","day","date","Intl","DateTimeFormat","resolvedOptions","timeZone","Date","getDay","getDate","getMonth","getHours","getMinutes","getSeconds","weekdays","shortMonths","h","hours_short","m","minutes_short","s","seconds_short","hours","Math","floor","minutes","seconds","weekposition","Number","isInteger","interactions","i","get_user_module","table_headers","headers","value","align","sortable","thead_name","thead_lastname","thead_progress","get_picture_url","get_user_fullname","lastname","get_username","username","see_profile","get_progress_message","finished_label","finisheds_label","of_conector","total_cms","get_progress_percentage","progress_percentage","get_student_grade","grade","coursegrade","maxgrade","student_grade","max_grade","get_sendmail_user_text","send_mail_to_user","sendmail","subject","subject_prefix","update_email_dialog","update_modules_dialog","n","generate_dropout_data","console","log","action","profile","method","params","then","response","status","ok","location","reload","error_messages","error_network","catch","api_error_network","finally","info","get_timezone","information","ss_change_timezone"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/moment\",\r\n        \"local_fliplearning/momenttimezone\",\r\n        \"local_fliplearning/pagination\",\r\n        \"local_fliplearning/chartdynamic\",\r\n        \"local_fliplearning/pageheader\",\r\n        \"local_fliplearning/emailform\",\r\n        \"local_fliplearning/modulesform\"\r\n    ],\r\n    function(Vue, Vuetify, Axios, Moment, MomentTimezone, Pagination, ChartDynamic, Pageheader, Emailform, Modulesform) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            // console.log(content);\r\n            Vue.use(Vuetify);\r\n            Vue.component('pagination', Pagination);\r\n            Vue.component('chart', ChartDynamic);\r\n            Vue.component('pageheader', Pageheader);\r\n            Vue.component('emailform', Emailform);\r\n            Vue.component('modulesform', Modulesform);\r\n            let vue = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#dropout\",\r\n                vuetify: new Vuetify(),\r\n                data() {\r\n                    return {\r\n                        strings : content.strings,\r\n                        groups : content.groups,\r\n                        userid : content.userid,\r\n                        courseid : content.courseid,\r\n                        timezone : content.timezone,\r\n                        render_has : content.profile_render,\r\n                        loading : false,\r\n                        errors : [],\r\n                        pages : content.pages,\r\n\r\n                        dropout: content.dropout,\r\n                        modules_access_colors: content.modules_access_colors,\r\n                        week_modules_colors: content.week_modules_colors,\r\n                        sessions_evolution_colors: content.sessions_evolution_colors,\r\n                        user_grades_colors: content.user_grades_colors,\r\n                        selected_cluster: [],\r\n                        cluster_users: [],\r\n                        selected_user: null,\r\n                        search: null,\r\n                        week_modules_chart_data: [],\r\n                        week_modules_chart_categories: [],\r\n                        selected_sections: [],\r\n                        sessions_evolution_data: [],\r\n                        user_grades_categories: [],\r\n                        user_grades_data: [],\r\n                        modules_dialog: false,\r\n\r\n                        email_users: [],\r\n                        email_dialog : false,\r\n                        modulename : \"\",\r\n                        moduleid : false,\r\n                        email_strings: content.strings.email_strings,\r\n                    }\r\n                },\r\n                beforeMount(){\r\n                    if (this.dropout.clusters.length) {\r\n                        this.set_modules_in_sections();\r\n                        this.selected_cluster = this.dropout.clusters[0];\r\n                        this.change_cluster(this.selected_cluster.users);\r\n                    };\r\n                },\r\n                mounted(){\r\n                    document.querySelector(\"#sessions-loader\").style.display = \"none\";\r\n                    document.querySelector(\"#dropout\").style.display = \"block\";\r\n                },\r\n                computed :{\r\n\r\n                },\r\n                methods : {\r\n                    get_help_content(){\r\n                        let helpcontents = `Texto de Ayuda`;\r\n                        return helpcontents;\r\n                    },\r\n\r\n                    set_modules_in_sections() {\r\n                        let sectionsMap = new Map();\r\n                        let sectionid = 0;\r\n                        this.dropout.cms.forEach(cm => {\r\n                            sectionid = Number(cm.section);\r\n                            if (!sectionsMap.has(sectionid)) {\r\n                                sectionsMap.set(sectionid, [cm]);\r\n                            } else {\r\n                                sectionsMap.get(sectionid).push(cm);\r\n                            }\r\n                        });\r\n                        this.dropout.sections.forEach(section => {\r\n                            sectionid = Number(section.sectionid);\r\n                            section.sectionid = sectionid;\r\n                            section.modules = sectionsMap.get(sectionid);\r\n                        });\r\n                    },\r\n\r\n                    change_cluster(users) {\r\n                        let selected_users = [];\r\n                        this.dropout.users.forEach(user => {\r\n                            if (users.includes(user.id)) {\r\n                                selected_users.push(user);\r\n                            }\r\n                        });\r\n                        if (selected_users.length) {\r\n                            this.cluster_users = selected_users;\r\n                            let user = this.cluster_users[0];\r\n                            this.change_user(user);\r\n                        } else {\r\n                            this.cluster_users = [];\r\n                            this.selected_user = null;\r\n                        }\r\n                    },\r\n\r\n                    change_user(user) {\r\n                        this.selected_user = user;\r\n                        this.calculate_modules_access_by_week();\r\n                        this.calculate_sessions_evolution();\r\n                        this.calculate_user_grades();\r\n                    },\r\n\r\n                    calculate_modules_access_by_week() {\r\n                        let sectionid = 0, moduleid = 0, weekcompletecms = 0, weekviewedcms = 0;\r\n                        let modules = [], completecms = [], viewedcms = [], categories = [];\r\n                        let user_cm;\r\n                        this.dropout.weeks.forEach(week => {\r\n                            // console.log({week});\r\n                            weekcompletecms = 0, weekviewedcms = 0;\r\n                            week.sections.forEach(section => {\r\n                                // console.log({section});\r\n                                sectionid = Number(section.sectionid);\r\n                                section.sectionid = sectionid;\r\n\r\n                                modules = this.sections_modules(sectionid);\r\n                                modules.forEach(module => {\r\n                                    // console.log({module});\r\n                                    moduleid = Number(module.id);\r\n                                    module.id = moduleid;\r\n\r\n                                    // user_cm = this.get_user_module(moduleid);\r\n                                    user_cm = this.selected_user.cms.modules[`cm${module.id}`];\r\n                                    // console.log({user_cm});\r\n                                    if (user_cm) {\r\n                                        (user_cm.complete) && weekcompletecms++;\r\n                                        (user_cm.viewed) && weekviewedcms++;\r\n                                    }\r\n\r\n                                });\r\n\r\n                            });\r\n                            completecms.push(weekcompletecms);\r\n                            viewedcms.push(weekviewedcms);\r\n                            categories.push(`${week.name} ${(week.position + 1)}`);\r\n                        });\r\n                        // console.log({completecms, viewedcms});\r\n                        this.week_modules_chart_categories = categories;\r\n                        this.week_modules_chart_data = [\r\n                            { name: this.strings.modules_access_chart_series_viewed, data: viewedcms },\r\n                            { name: this.strings.modules_access_chart_series_complete, data: completecms }\r\n                        ];\r\n                    },\r\n\r\n                    calculate_sessions_evolution() {\r\n                        let sessions_data = [], time_data = [];\r\n                        let sumtime = 0, sumsessions = 0, time = 0, timestamp = 0;\r\n                        this.selected_user.sessions.forEach(session => {\r\n                            timestamp = Number(session.start) * 1000;\r\n                            time = (Number(session.duration)) / 60;\r\n                            sumtime += time;\r\n                            sumsessions++;\r\n                            sessions_data.push({ x: timestamp, y: sumsessions });\r\n                            time_data.push({ x: timestamp, y: sumtime });\r\n                        });\r\n                        this.sessions_evolution_data = [\r\n                            { name: this.strings.sessions_evolution_chart_legend1, yAxis: 0, data: sessions_data },\r\n                            { name: this.strings.sessions_evolution_chart_legend2, yAxis: 1, data: time_data },\r\n                        ];\r\n                    },\r\n\r\n                    calculate_user_grades() {\r\n                        let categories = [], course_grades = [], user_grades = [];\r\n                        let user_grade = 0, user_name = this.selected_user.firstname;\r\n                        this.selected_user.gradeitems.forEach(item => {\r\n                            user_grade = (Number(item.finalgrade) * 100) / Number(item.grademax);\r\n                            categories.push(item.itemname);\r\n                            course_grades.push(item.average_percentage);\r\n                            user_grades.push(user_grade);\r\n                        });\r\n                        this.user_grades_data = [\r\n                            { name: user_name, data: user_grades },\r\n                            { name: this.strings.user_grades_chart_legend, data: course_grades },\r\n                        ];\r\n                        this.user_grades_categories = categories;\r\n                    },\r\n\r\n                    build_modules_access_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'bar',\r\n                            backgroundColor: null,\r\n                            style: {fontFamily: 'poppins'},\r\n                        };\r\n                        chart.title = { text: null};\r\n                        chart.colors = this.modules_access_colors;\r\n                        chart.xAxis = {\r\n                            type: 'category',\r\n                        };\r\n                        chart.yAxis = {\r\n                            allowDecimals: false,\r\n                            title: {\r\n                                enabled: true,\r\n                                text: this.strings.modules_amount,\r\n                            }\r\n                        };\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            formatter: function () {\r\n                                let module_text = (this.y == 1) ? vue.strings.module_label : vue.strings.modules_label;\r\n                                return '<b>' + this.points[0].key + '</b>: ' + this.y + ' ' + module_text + '<br/>'\r\n                                    + '<i>'+ vue.strings.modules_details + '<i/>';\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                    point: {\r\n                                    events: {\r\n                                        click: function () {\r\n                                            vue.open_modules_modal(this.x);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        chart.legend = {\r\n                            enabled: false\r\n                        };\r\n                        chart.series = [{\r\n                            colorByPoint: true,\r\n                            data: [\r\n                                {name: this.strings.modules_access_chart_series_viewed, y: this.selected_user.cms.viewed},\r\n                                {name: this.strings.modules_access_chart_series_complete, y: this.selected_user.cms.complete},\r\n                                {name: this.strings.modules_access_chart_series_total, y: this.selected_user.cms.total}\r\n                            ]\r\n                        }];\r\n                        return chart;\r\n                    },\r\n\r\n                    build_week_modules_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'column',\r\n                            backgroundColor: null,\r\n                            style: {fontFamily: 'poppins'},\r\n                        };\r\n                        chart.title = {text: null};\r\n                        chart.colors = this.week_modules_colors;\r\n                        chart.xAxis = {\r\n                            categories: this.week_modules_chart_categories,\r\n                            title: {\r\n                                text: null\r\n                            },\r\n                            crosshair: true\r\n                        };\r\n                        chart.yAxis = {\r\n                            allowDecimals: false,\r\n                            title: {\r\n                                text: this.strings.modules_amount,\r\n                            }\r\n                        };\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            useHTML: true,\r\n                            formatter: function () {\r\n                                let text1 = '', text2 = '';\r\n                                if (this.points[0]) {\r\n                                    let module_text_viewed = (this.points[0].y == 1) ? vue.strings.module_label : vue.strings.modules_label;\r\n                                    let viewed_series_name = this.points[0].series.name;\r\n                                    text1 = `<b style=\"color: ${this.points[0].color}\">${viewed_series_name}: </b>\r\n                                            ${this.points[0].y} ${module_text_viewed}<br/>`;\r\n                                }\r\n                                if (this.points[1]) {\r\n                                    let module_text_completed = (this.points[1].y == 1) ? vue.strings.module_label : vue.strings.modules_label;\r\n                                    let completed_series_name = this.points[1].series.name;\r\n                                    text2 = `<b style=\"color: ${this.points[1].color}\">${completed_series_name}: </b>\r\n                                            ${this.points[1].y} ${module_text_completed}<br/>`;\r\n                                }\r\n                                return `${this.x} <br/> ${text1}${text2} <i>${vue.strings.modules_details}<i/>`;\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function () {\r\n                                            vue.open_modules_modal(this.colorIndex, this.x);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.series = this.week_modules_chart_data;\r\n                        return chart;\r\n                    },\r\n\r\n                    build_sessions_evolution_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            zoomType: 'x',\r\n                            backgroundColor: null,\r\n                            style: {fontFamily: 'poppins'},\r\n                        };\r\n                        chart.title = {text: null};\r\n                        chart.colors = this.sessions_evolution_colors;\r\n                        chart.xAxis = {\r\n                            type: 'datetime'\r\n                        };\r\n                        chart.yAxis = [{\r\n                            allowDecimals: false,\r\n                            title: { text: this.strings.sessions_evolution_chart_xaxis1 }\r\n                        }, {\r\n                            title: { text: this.strings.sessions_evolution_chart_xaxis2 },\r\n                            opposite: true\r\n                        }];\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            useHTML: true,\r\n                            formatter: function () {\r\n                                let date_label = vue.calculate_timezone_date_string(this.x);\r\n                                let text1 = (this.points[0]) ? vue.get_sessions_evolution_tooltip(this.points[0]) : '';\r\n                                let text2 = (this.points[1]) ? vue.get_sessions_evolution_tooltip(this.points[1]) : '';\r\n                                return `<small>${date_label}</small><br/>${text1}${text2}`;\r\n                            }\r\n                        };\r\n                        chart.series = this.sessions_evolution_data;\r\n                        return chart;\r\n                    },\r\n\r\n                    build_user_grades_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'column',\r\n                            backgroundColor: null,\r\n                            style: {fontFamily: 'poppins'},\r\n                        };\r\n                        chart.title = {text: null};\r\n                        chart.colors = this.user_grades_colors;\r\n                        chart.xAxis = {\r\n                            crosshair: true,\r\n                            categories: this.user_grades_categories,\r\n                        };\r\n                        chart.yAxis = {\r\n                            allowDecimals: false,\r\n                            max: 100,\r\n                            labels: {\r\n                                format: '{value} %',\r\n                            },\r\n                            title: { text: this.strings.user_grades_chart_yaxis }\r\n                        };\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            useHTML: true,\r\n                            formatter: function () {\r\n                                let itemname = this.x;\r\n                                let position = this.points[0].point.x;\r\n                                let item = vue.selected_user.gradeitems[position];\r\n                                let header = `<small>${itemname}</small><br/>`;\r\n                                let footer = `<i>(${vue.strings.user_grades_chart_view_activity})</i><br/>`;\r\n                                let body = '';\r\n                                if (item.gradecount == 0) {\r\n                                    body = vue.strings.user_grades_chart_tooltip_no_graded;\r\n                                } else {\r\n                                    let text1 = (this.points[0]) ? vue.get_user_grades_tooltip(this.points[0], item) : '';\r\n                                    let text2 = (this.points[1]) ? vue.get_user_grades_tooltip(this.points[1], item) : '';\r\n                                    body = `${text1}${text2}${footer}`;\r\n                                }\r\n                                return `${header}${body}`;\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function () {\r\n                                            let position = this.x;\r\n                                            let item = vue.selected_user.gradeitems[position];\r\n                                            let url = `${M.cfg.wwwroot}/mod/${item.itemmodule}/view.php?id=${item.coursemoduleid}`;\r\n                                            window.open(url, '_blank');\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.series = this.user_grades_data;\r\n                        return chart;\r\n                    },\r\n\r\n                    get_sessions_evolution_tooltip (point) {\r\n                        let text = '', sessions, sessions_suffix, sessions_prefix, time_prefix, time;\r\n                        if (point.colorIndex == 0) {\r\n                            sessions = point.y;\r\n                            sessions_suffix = (sessions == 1) ? vue.strings.session_text : vue.strings.sessions_text;\r\n                            sessions_prefix = point.series.name;\r\n                            text = `<b style=\"color: ${point.color}\">${sessions_prefix}: </b>\r\n                                     ${sessions} ${sessions_suffix}<br/>`;\r\n                        } else {\r\n                            time_prefix = point.series.name;\r\n                            time = this.convert_time(point.y * 60);\r\n                            text = `<b style=\"color: ${point.color}\">${time_prefix}: </b>\r\n                                    ${time}<br/>`;\r\n                        }\r\n                        return text;\r\n                    },\r\n\r\n                    get_user_grades_tooltip (point, item) {\r\n                        let serie_name = point.series.name, user_grade = 0;\r\n                        let finalgrade = Number(item.finalgrade), average = Number(item.average), grademax = Number(item.grademax);\r\n                        grademax = this.isInt(grademax) ? grademax : grademax.toFixed(2);\r\n                        if (point.colorIndex == 0) {\r\n                            user_grade = this.isInt(finalgrade) ? finalgrade : finalgrade.toFixed(2);\r\n                        } else {\r\n                            user_grade = this.isInt(average) ? average : average.toFixed(2);\r\n                        }\r\n                        return `<b style=\"color: ${point.color}\">${serie_name}: </b>\r\n                                     ${user_grade}/${grademax}<br/>`;\r\n                    },\r\n\r\n                    calculate_timezone_date_string(timestamp) {\r\n                        let dat, weekday, monthday, month, time;\r\n                        if (Moment.tz.zone(this.timezone)) {\r\n                            dat = Moment(timestamp).tz(this.timezone);\r\n                            weekday = dat.day();\r\n                            monthday = dat.date();\r\n                            month = dat.month();\r\n                            time = dat.format('HH:mm:ss');\r\n                        } else {\r\n                            let tz = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n                            dat =  new Date(timestamp);\r\n                            weekday = dat.getDay();\r\n                            monthday = dat.getDate();\r\n                            month = dat.getMonth();\r\n                            time = `${dat.getHours()}:${dat.getMinutes()}:${dat.getSeconds()} (${tz})`;\r\n                        }\r\n                        weekday = this.strings.chart.weekdays[weekday];\r\n                        month = this.strings.chart.shortMonths[month];\r\n                        return `${weekday}, ${month} ${monthday}, ${time}`;\r\n                    },\r\n\r\n                    convert_time(time) {\r\n                        time *= 60; // pasar los minutos a segundos\r\n                        let h = this.strings.hours_short;\r\n                        let m = this.strings.minutes_short;\r\n                        let s = this.strings.seconds_short;\r\n                        let hours = Math.floor(time / 3600);\r\n                        let minutes = Math.floor((time % 3600) / 60);\r\n                        let seconds = Math.floor(time % 60);\r\n                        let text;\r\n                        if (hours >= 1) {\r\n                            if (minutes >= 1) {\r\n                                text = `${hours}${h} ${minutes}${m}`;\r\n                            } else {\r\n                                text = `${hours}${h}`;\r\n                            }\r\n                        } else if ((minutes >= 1)) {\r\n                            if (seconds >= 1) {\r\n                                text = `${minutes}${m} ${seconds}${s}`;\r\n                            } else {\r\n                                text = `${minutes}${m}`;\r\n                            }\r\n                        } else {\r\n                            text = `${seconds}${s}`;\r\n                        }\r\n                        return text;\r\n                    },\r\n\r\n                    open_modules_modal(type, weekposition){\r\n                        let sections = this.dropout.sections;\r\n                        if (Number.isInteger(weekposition)) {\r\n                            sections = [];\r\n                            let section;\r\n                            let week = this.dropout.weeks[weekposition];\r\n                            week.sections.forEach(item => {\r\n                                section = {\r\n                                    sectionid: item.sectionid,\r\n                                    name: item.name,\r\n                                    modules: this.sections_modules(item.sectionid)\r\n                                };\r\n                                sections.push(section);\r\n                            });\r\n                        }\r\n                        sections.forEach(section => {\r\n                            section.modules.forEach(module => {\r\n                                module.complete = false;\r\n                                module.viewed = false;\r\n                                module.interactions = 0;\r\n                                let user_cm = this.selected_user.cms.modules[`cm${module.id}`];\r\n                                if (user_cm) {\r\n                                    module.complete = user_cm.complete;\r\n                                    module.viewed = user_cm.viewed;\r\n                                    module.interactions = user_cm.interactions;\r\n                                }\r\n                            });\r\n                        });\r\n\r\n                        this.selected_sections = sections;\r\n                        this.modules_dialog = true;\r\n                    },\r\n\r\n                    sections_modules(sectionid) {\r\n                        let modules = [];\r\n                        let sections = this.dropout.sections;\r\n                        for (let i = 0; i < sections.length; i++) {\r\n                            if (sections[i].sectionid == sectionid) {\r\n                                modules = sections[i].modules;\r\n                                break;\r\n                            }\r\n                        }\r\n                        return modules;\r\n                    },\r\n\r\n                    get_user_module(moduleid) {\r\n                        let module;\r\n                        let cms = this.selected_user.cms.modules;\r\n                        for (let i = 0; i < cms.length; i++) {\r\n                            cms[i].id = Number(cms[i].id);\r\n                            if (cms[i].id == moduleid) {\r\n                                module = cms[i];\r\n                                break;\r\n                            }\r\n                        }\r\n                        return module;\r\n                    },\r\n\r\n                    table_headers(){\r\n                        let headers = [\r\n                            { text: '', value : 'id', align : 'center', sortable : false},\r\n                            { text: this.strings.thead_name , value : 'firstname'},\r\n                            { text: this.strings.thead_lastname , value : 'lastname'},\r\n                            { text: this.strings.thead_progress , value : 'progress_percentage'},\r\n                        ];\r\n                        return headers;\r\n                    },\r\n\r\n                    get_picture_url(userid){\r\n                        return `${M.cfg.wwwroot}/user/pix.php?file=/${userid}/f1.jpg`;\r\n                    },\r\n\r\n                    get_user_fullname(){\r\n                        return `${this.selected_user.firstname} ${this.selected_user.lastname}`;\r\n                    },\r\n\r\n                    get_username(){\r\n                        return `@${this.selected_user.username}`;\r\n                    },\r\n\r\n                    see_profile () {\r\n                        let id = this.selected_user.id;\r\n                        let url = M.cfg.wwwroot + '/user/view.php?id='+id+'&course='+vue.courseid;\r\n                        window.open(url);\r\n                    },\r\n\r\n                    get_progress_message(){\r\n                        let module_label = this.strings.modules_label;\r\n                        let finished_label = this.strings.finisheds_label;\r\n                        if (this.selected_user.cms.complete == 1) {\r\n                            module_label = this.strings.module_label;\r\n                            finished_label = this.strings.finished_label;\r\n                        }\r\n                        return `${this.selected_user.cms.complete} ${module_label} ${finished_label} ${this.strings.of_conector} ${this.dropout.total_cms}`;\r\n                    },\r\n\r\n                    get_progress_percentage() {\r\n                        return `${this.selected_user.progress_percentage} %`;\r\n                    },\r\n\r\n                    get_student_grade() {\r\n                        let grade = this.selected_user.coursegrade;\r\n                        grade.finalgrade = Number(grade.finalgrade);\r\n                        grade.maxgrade = Number(grade.maxgrade);\r\n                        let student_grade = this.isInt(grade.finalgrade) ? grade.finalgrade : grade.finalgrade.toFixed(2);\r\n                        let max_grade = this.isInt(grade.maxgrade) ? grade.maxgrade : grade.maxgrade.toFixed(2);\r\n                        return `${student_grade}/${max_grade}`;\r\n                    },\r\n\r\n                    get_sendmail_user_text() {\r\n                        return `${this.strings.send_mail_to_user} ${this.selected_user.firstname}`;\r\n                    },\r\n\r\n                    sendmail(type) {\r\n                        this.strings.email_strings.subject = this.strings.email_strings.subject_prefix;\r\n                        this.modulename = \"course\";\r\n                        this.moduleid = this.courseid;\r\n                        if (type == 1) {\r\n                            this.email_users = [this.selected_user];\r\n                            this.email_dialog = true;\r\n                        } else if (type == 2) {\r\n                            this.email_users = this.cluster_users;\r\n                            this.email_dialog = true;\r\n                        }\r\n                    },\r\n\r\n                    update_email_dialog (value) {\r\n                        this.email_dialog = value;\r\n                    },\r\n\r\n                    update_modules_dialog (value) {\r\n                        this.modules_dialog = value;\r\n                    },\r\n\r\n                    isInt(n) {\r\n                        return n % 1 === 0;\r\n                    },\r\n\r\n                    generate_dropout_data(){\r\n                        this.loading = true;\r\n                        console.log('generate_dropout_data');\r\n                        this.errors = [];\r\n                        let data = {\r\n                            action : \"dropoutdata\",\r\n                            userid : this.userid,\r\n                            courseid : this.courseid,\r\n                            profile : this.render_has,\r\n                        }\r\n                        Axios({\r\n                            method:'get',\r\n                            url: M.cfg.wwwroot + \"/local/fliplearning/ajax.php\",\r\n                            params : data,\r\n                        }).then((response) => {\r\n                            if (response.status == 200 && response.data.ok) {\r\n                                location.reload();\r\n                            } else {\r\n                                this.error_messages.push(this.strings.error_network);\r\n                            }\r\n                        }).catch((e) => {\r\n                            this.errors.push(this.strings.api_error_network);\r\n                        }).finally(() => {\r\n                            this.loading = false;\r\n                        });\r\n                        return this.data;\r\n                    },\r\n\r\n                    info() {\r\n                        console.log('Open modal');\r\n                    },\r\n\r\n                    get_timezone(){\r\n                        let information = `${this.strings.ss_change_timezone} ${this.timezone}`\r\n                        return information;\r\n                    },\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            init : init\r\n        };\r\n    });"],"file":"dropout.min.js"}