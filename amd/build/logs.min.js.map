{"version":3,"sources":["../src/logs.js"],"names":["define","Vue","Vuetify","Axios","Alertify","PageHeader","init","content","defaults","timeout","use","component","delimiters","el","vuetify","data","strings","courseId","userId","timezone","dates","datesLabels","loadingBtnFliplearningLogs","loadingBtnMoodleLogs","helpDialog","helpTitle","helpDescription","helpTableHeaders","helpTableItems","moodle_logs","fliplearning_logs","pluginSectionName","mounted","document","querySelector","style","display","computed","dateRangeText","dates_array","map","date","Date","sort","sortDates","formatDate","join","methods","getHelpContent","contents","title","sectionHelpTitle","description","sectionHelpDescription","getFile","type","length","error","logsWithoutDatesValidation","startdate","split","reverse","enddate","action","logstype","userid","courseid","url","window","location","href","method","M","cfg","wwwroot","params","then","response","status","ok","filename","message","link","createElement","click","success","logsSuccessDownload","apiErrorNetwork","catch","finally","a","b","getTime","year","getUTCFullYear","month_number","getUTCMonth","month","day_number","getUTCDate","day","getTimezone","information","changeTimezone","openChartHelp","prepareHelpData","saveInteraction","text","logsHelpTableHeaderColumn","value","logsHelpTableHeaderDescription","sortable","moodleLogsHelpTitle","moodleLogsHelpDescription","column","logsHeaderLogid","logsHeaderLogIdHelpDescription","logsHeaderUserId","logsHeaderUserIdHelpDescription","logsHeaderUsername","logsHeaderUsernameHelpDescription","logsHeaderFirstname","logsHeaderFirstnameHelpDescription","logsHeaderLastname","logsHeaderLastnameHelpDescription","logsHeaderRoles","logsHeaderRolesHelpDescription","logsHeaderCourseId","logsHeaderCourseIdHelpDescription","logsHeaderCoursename","logsHeaderCoursenameHelpDescription","logsHeaderContextLevel","logsHeaderContextLevelHelpDescription","logsHeaderComponent","logsHeaderComponentHelpDescription","logsHeaderAction","logsHeaderActionHelpDescription","logsHeaderTarget","logsHeaderTargetHelpDescription","logsHeaderActivitytype","logsHeaderActivitytypeHelpDescription","logsHeaderActivityname","logsHeaderActivitynameHelpDescription","logsHeaderSectionnumber","logsHeaderSectionnumberHelpDescription","logsHeaderSectionname","logsHeaderSectionnameHelpDescription","logsHeaderTimecreated","logsHeaderTimecreatedHelpDescription","fliplearningLogsHelpTitle","fliplearningLogsHelpDescription","logsHeaderPluginsection","logsHeaderPluginsectionHelpDescription","logsHeaderUrl","logsHeaderUrlHelpDescription","logsHeaderDescription","logsHeaderDescriptionHelpDescription","interaction","target","interactiontype","pluginsection"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/alertify\",\r\n        \"local_fliplearning/pageheader\",\r\n    ],\r\n    function(Vue, Vuetify, Axios, Alertify, PageHeader) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            // console.log(content);\r\n\r\n            const timeout = 60 * 120 * 1000;\r\n            Axios.defaults.timeout = timeout;\r\n\r\n            Vue.use(Vuetify);\r\n            Vue.component('pageheader', PageHeader);\r\n            const app = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#logs\",\r\n                vuetify: new Vuetify(),\r\n                data: {\r\n                    strings: content.strings,\r\n                    courseId: content.courseId,\r\n                    userId: content.userId,\r\n                    timezone: content.timezone,\r\n\r\n                    dates: [],\r\n                    datesLabels: [],\r\n\r\n                    loadingBtnFliplearningLogs: false,\r\n                    loadingBtnMoodleLogs: false,\r\n\r\n                    helpDialog: false,\r\n                    helpTitle: null,\r\n                    helpDescription: null,\r\n                    helpTableHeaders: null,\r\n                    helpTableItems: null,\r\n                    moodle_logs: \"moodle_logs\",\r\n                    fliplearning_logs: \"fliplearning_logs\",\r\n\r\n                    pluginSectionName: \"teacher_download_logs\",\r\n                },\r\n                mounted() {\r\n                    document.querySelector(\"#logs-loader\").style.display = \"none\";\r\n                    document.querySelector(\"#logs\").style.display = \"block\";\r\n                },\r\n                computed: {\r\n                    dateRangeText () {\r\n                        let dates_array = this.dates.map(date => new Date(date));\r\n                        dates_array.sort(this.sortDates);\r\n                        this.datesLabels = dates_array.map(date => this.formatDate(date));\r\n                        return this.datesLabels.join(' → ');\r\n                    },\r\n                },\r\n                methods: {\r\n                    getHelpContent() {\r\n                        let contents = [];\r\n                        contents.push({\r\n                            title: this.strings.sectionHelpTitle,\r\n                            description: this.strings.sectionHelpDescription,\r\n                        });\r\n                        return contents;\r\n                    },\r\n\r\n                    getFile(type) {\r\n                        if (!this.datesLabels.length){\r\n                            Alertify.error(this.strings.logsWithoutDatesValidation);\r\n                            return;\r\n                        }\r\n\r\n                        if (type === 'moodle') {\r\n                            this.loadingBtnMoodleLogs = true;\r\n                        } else if (type === 'fliplearning') {\r\n                            this.loadingBtnFliplearningLogs = true;\r\n                        } else {\r\n                            return;\r\n                        }\r\n\r\n                        let startdate = this.datesLabels[0].split('/').reverse().join('-');\r\n                        let enddate = this.datesLabels[1]\r\n                            ? this.datesLabels[1].split('/').reverse().join('-')\r\n                            : startdate;\r\n\r\n                        let data = {\r\n                            action: \"downloadlogs\",\r\n                            logstype: type,\r\n                            userid: this.userId,\r\n                            courseid: this.courseId,\r\n                            startdate,\r\n                            enddate,\r\n                            url: window.location.href,\r\n                        }\r\n                        Axios({\r\n                            method: 'post',\r\n                            url: M.cfg.wwwroot + \"/local/fliplearning/ajax.php\",\r\n                            timeout : timeout,\r\n                            params: data\r\n                        }).then((response) => {\r\n                            if (response.status == 200 && response.data.ok) {\r\n                                let filename = response.data.message;\r\n                                let url = `${M.cfg.wwwroot}/local/fliplearning/downloads/${filename}`;\r\n                                let link = document.createElement('a');\r\n                                link.href = url;\r\n                                link.click();\r\n                                Alertify.success(this.strings.logsSuccessDownload);\r\n                            } else if (response.data.message) {\r\n                                Alertify.error(response.data.message);\r\n                            } else {\r\n                                Alertify.error(this.strings.apiErrorNetwork);\r\n                            }\r\n                        }).catch((e) => {\r\n                            Alertify.error(this.strings.apiErrorNetwork);\r\n                        }).finally(() => {\r\n                            (type === 'moodle')\r\n                                ? this.loadingBtnMoodleLogs = false\r\n                                : this.loadingBtnFliplearningLogs = false;\r\n                        });\r\n                    },\r\n\r\n                    sortDates (a, b) {\r\n                        return b.getTime() > a.getTime() ? -1 : b.getTime() < a.getTime() ? 1 : 0;\r\n                    },\r\n\r\n                    formatDate (date) {\r\n                        const year = date.getUTCFullYear();\r\n                        const month_number = date.getUTCMonth() + 1;\r\n                        const month = month_number < 10 ? `0${month_number}` : month_number;\r\n                        const day_number = date.getUTCDate();\r\n                        const day = day_number < 10 ? `0${day_number}` : day_number;\r\n                        return `${day}/${month}/${year}`;\r\n                    },\r\n\r\n                    getTimezone() {\r\n                        let information = `${this.strings.changeTimezone} ${this.timezone}`\r\n                        return information;\r\n                    },\r\n\r\n                    openChartHelp (component) {\r\n                        if (component === this.moodle_logs || component === this.fliplearning_logs) {\r\n                            this.prepareHelpData(component);\r\n                        } else {\r\n                            return;\r\n                        }\r\n                        this.helpDialog = true;\r\n                        this.saveInteraction (component, \"viewed\", \"help_dialog\", 7);\r\n                    },\r\n\r\n                    prepareHelpData (component) {\r\n                        this.helpTableHeaders = [\r\n                            { text: this.strings.logsHelpTableHeaderColumn, value: 'column' },\r\n                            { text: this.strings.logsHelpTableHeaderDescription, value: 'description', sortable: false },\r\n                        ];\r\n                        if (component === this.moodle_logs) {\r\n                            this.helpTitle = this.strings.moodleLogsHelpTitle;\r\n                            this.helpDescription = this.strings.moodleLogsHelpDescription;\r\n                            this.helpTableItems = [\r\n                                { column: this.strings.logsHeaderLogid, description: this.strings.logsHeaderLogIdHelpDescription },\r\n                                { column: this.strings.logsHeaderUserId, description: this.strings.logsHeaderUserIdHelpDescription },\r\n                                { column: this.strings.logsHeaderUsername, description: this.strings.logsHeaderUsernameHelpDescription },\r\n                                { column: this.strings.logsHeaderFirstname, description: this.strings.logsHeaderFirstnameHelpDescription },\r\n                                { column: this.strings.logsHeaderLastname, description: this.strings.logsHeaderLastnameHelpDescription },\r\n                                { column: this.strings.logsHeaderRoles, description: this.strings.logsHeaderRolesHelpDescription },\r\n                                { column: this.strings.logsHeaderCourseId, description: this.strings.logsHeaderCourseIdHelpDescription },\r\n                                { column: this.strings.logsHeaderCoursename, description: this.strings.logsHeaderCoursenameHelpDescription },\r\n                                { column: this.strings.logsHeaderContextLevel, description: this.strings.logsHeaderContextLevelHelpDescription },\r\n                                { column: this.strings.logsHeaderComponent, description: this.strings.logsHeaderComponentHelpDescription },\r\n                                { column: this.strings.logsHeaderAction, description: this.strings.logsHeaderActionHelpDescription },\r\n                                { column: this.strings.logsHeaderTarget, description: this.strings.logsHeaderTargetHelpDescription },\r\n                                { column: this.strings.logsHeaderActivitytype, description: this.strings.logsHeaderActivitytypeHelpDescription },\r\n                                { column: this.strings.logsHeaderActivityname, description: this.strings.logsHeaderActivitynameHelpDescription },\r\n                                { column: this.strings.logsHeaderSectionnumber, description: this.strings.logsHeaderSectionnumberHelpDescription },\r\n                                { column: this.strings.logsHeaderSectionname, description: this.strings.logsHeaderSectionnameHelpDescription },\r\n                                { column: this.strings.logsHeaderTimecreated, description: this.strings.logsHeaderTimecreatedHelpDescription },\r\n                            ];\r\n                        } else if (component === this.fliplearning_logs) {\r\n                            this.helpTitle = this.strings.fliplearningLogsHelpTitle;\r\n                            this.helpDescription = this.strings.fliplearningLogsHelpDescription;\r\n                            this.helpTableItems = [\r\n                                { column: this.strings.logsHeaderLogid, description: this.strings.logsHeaderLogIdHelpDescription },\r\n                                { column: this.strings.logsHeaderUserId, description: this.strings.logsHeaderUserIdHelpDescription },\r\n                                { column: this.strings.logsHeaderUsername, description: this.strings.logsHeaderUsernameHelpDescription },\r\n                                { column: this.strings.logsHeaderFirstname, description: this.strings.logsHeaderFirstnameHelpDescription },\r\n                                { column: this.strings.logsHeaderLastname, description: this.strings.logsHeaderLastnameHelpDescription },\r\n                                { column: this.strings.logsHeaderRoles, description: this.strings.logsHeaderRolesHelpDescription },\r\n                                { column: this.strings.logsHeaderCourseId, description: this.strings.logsHeaderCourseIdHelpDescription },\r\n                                { column: this.strings.logsHeaderCoursename, description: this.strings.logsHeaderCoursenameHelpDescription },\r\n                                { column: this.strings.logsHeaderPluginsection, description: this.strings.logsHeaderPluginsectionHelpDescription },\r\n                                { column: this.strings.logsHeaderComponent, description: this.strings.logsHeaderComponentHelpDescription },\r\n                                { column: this.strings.logsHeaderAction, description: this.strings.logsHeaderActionHelpDescription },\r\n                                { column: this.strings.logsHeaderTarget, description: this.strings.logsHeaderTargetHelpDescription },\r\n                                { column: this.strings.logsHeaderUrl, description: this.strings.logsHeaderUrlHelpDescription},\r\n                                { column: this.strings.logsHeaderTimecreated, description: this.strings.logsHeaderTimecreatedHelpDescription },\r\n                                { column: this.strings.logsHeaderDescription, description: this.strings.logsHeaderDescriptionHelpDescription },\r\n                            ];\r\n                        }\r\n                    },\r\n\r\n                    saveInteraction (component, interaction, target, interactiontype) {\r\n                        let data = {\r\n                            action : \"saveinteraction\",\r\n                            pluginsection : this.pluginSectionName,\r\n                            component,\r\n                            interaction,\r\n                            target,\r\n                            url: window.location.href,\r\n                            interactiontype,\r\n                            courseid : this.courseId,\r\n                            userid : this.userId,\r\n                        };\r\n                        Axios({\r\n                            method:'get',\r\n                            url: `${M.cfg.wwwroot}/local/fliplearning/ajax.php`,\r\n                            params : data,\r\n                        }).then((r) => {}).catch((e) => {});\r\n                    },\r\n                }\r\n            });\r\n        }\r\n\r\n        return {\r\n            init: init\r\n        };\r\n    });"],"file":"logs.min.js"}