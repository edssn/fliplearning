{"version":3,"sources":["../src/student_sessions.js"],"names":["define","Vue","Vuetify","Axios","Moment","Pagination","ChartStatic","PageHeader","ModulesForm","HelpDialog","init","content","use","component","vue","delimiters","el","vuetify","data","strings","groups","userid","courseid","timezone","render_has","profile_render","loading","errors","pages","indicators","hours_session_colors","resources_access_colors","inverted_time_colors","inverted_time","hours_sessions","sections","sections_map","week_progress","resource_access_categories","resource_access_data","modules_dialog","help_dialog","help_contents","pluginSectionName","inverted_time_chart","sessions_by_hours_and_days_chart","resources_access_chart","beforeMount","create_section_map","set_modules_in_sections","calculate_resources_access","mounted","document","querySelector","style","display","methods","get_help_content","contents","title","section_help_title","description","section_help_description","build_inverted_time_chart","chart","type","backgroundColor","fontFamily","text","colors","xAxis","crosshair","yAxis","inverted_time_chart_x_axis","tooltip","shared","useHTML","formatter","category_name","points","key","time","convert_time","y","legend","enabled","series","colorByPoint","build_sessions_by_hours_and_days_chart","categories","days","hours","reversed","colorAxis","min","minColor","maxColor","layout","verticalAlign","xCategoryName","get_point_category_name","point","yCategoryName","capitalizeFirstLetter","sessions_text","value","borderWidth","borderColor","build_resources_access_chart","resource_access_x_axis","resource_access_y_axis","plotOptions","column","stacking","cursor","events","click","saveInteraction","footerFormat","modules_details","update_interactions","week","action","weekcode","profile","url","window","location","href","method","M","cfg","wwwroot","params","then","response","status","ok","error_messages","push","error_network","catch","e","console","log","api_error_network","finally","sectionsMap","Map","sectionid","course_cms","forEach","cm","section","has","set","get","modules","modulesMap","moduleid","user_cm","mod","total_modules","access_modules","modules_names","module","modname","complete","pending","id","viewed","interactions","user_cms","complete_data","pending_data","name","resource_access_legend1","resource_access_legend2","Math","floor","get_progress_percentage","dimension","isY","axis","get_module_icon","get_module_url","get_interactions_number","interactions_text","modules_interaction","modules_interactions","h","hours_short","m","minutes_short","s","seconds_short","minutes","seconds","update_modules_dialog","openChartHelp","inverted_time_help_title","inverted_time_help_description_p1","inverted_time_help_description_p2","hours_session_help_title","hours_session_help_description_p1","hours_session_help_description_p2","resources_access_help_title","resources_access_help_description_p1","resources_access_help_description_p2","resources_access_help_description_p3","length","interaction","target","interactiontype","pluginsection","update_help_dialog","string","charAt","toUpperCase","slice","get_timezone","information","change_timezone"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/moment\",\r\n        \"local_fliplearning/pagination\",\r\n        \"local_fliplearning/chartstatic\",\r\n        \"local_fliplearning/pageheader\",\r\n        \"local_fliplearning/modulesform\",\r\n        \"local_fliplearning/helpdialog\",\r\n    ],\r\n    function(Vue, Vuetify, Axios, Moment, Pagination, ChartStatic, PageHeader, ModulesForm, HelpDialog) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            // console.logs(content);\r\n            Vue.use(Vuetify);\r\n            Vue.component('pagination', Pagination);\r\n            Vue.component('chart', ChartStatic);\r\n            Vue.component('pageheader', PageHeader);\r\n            Vue.component('modulesform', ModulesForm);\r\n            Vue.component('helpdialog', HelpDialog);\r\n            let vue = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#student_sessions\",\r\n                vuetify: new Vuetify(),\r\n                data() {\r\n                    return {\r\n                        strings: content.strings,\r\n                        groups: content.groups,\r\n                        userid: content.userid,\r\n                        courseid: content.courseid,\r\n                        timezone: content.timezone,\r\n                        render_has: content.profile_render,\r\n                        loading: false,\r\n                        errors: [],\r\n                        pages: content.pages,\r\n\r\n                        indicators: content.indicators,\r\n                        hours_session_colors: content.hours_session_colors,\r\n                        resources_access_colors: content.resources_access_colors,\r\n                        inverted_time_colors: content.inverted_time_colors,\r\n                        inverted_time: content.indicators.inverted_time,\r\n                        hours_sessions: content.indicators.hours_sessions,\r\n                        sections: content.indicators.sections,\r\n                        sections_map: null,\r\n                        week_progress: 0,\r\n                        resource_access_categories: [],\r\n                        resource_access_data: [],\r\n                        modules_dialog: false,\r\n\r\n                        help_dialog: false,\r\n                        help_contents: [],\r\n\r\n                        pluginSectionName: \"teacher_general\",\r\n                        inverted_time_chart: \"inverted_time_chart\",\r\n                        sessions_by_hours_and_days_chart: \"sessions_by_hours_and_days_chart\",\r\n                        resources_access_chart: \"resources_access_chart\",\r\n                    }\r\n                },\r\n                beforeMount() {\r\n                    this.create_section_map();\r\n                    this.set_modules_in_sections();\r\n                    this.calculate_resources_access();\r\n                },\r\n                mounted() {\r\n                    document.querySelector(\"#student_sessions_loader\").style.display = \"none\";\r\n                    document.querySelector(\"#student_sessions\").style.display = \"block\";\r\n                },\r\n                methods: {\r\n                    get_help_content() {\r\n                        let contents = [];\r\n                        contents.push({\r\n                            title: this.strings.section_help_title,\r\n                            description: this.strings.section_help_description,\r\n                        });\r\n                        return contents;\r\n                    },\r\n\r\n                    build_inverted_time_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'bar',\r\n                            backgroundColor: null,\r\n                            style: { fontFamily: 'poppins' },\r\n                        };\r\n                        chart.title = { text: null };\r\n                        chart.colors = this.inverted_time_colors;\r\n                        chart.xAxis = {\r\n                            type: 'category',\r\n                            crosshair: true,\r\n                        };\r\n                        chart.yAxis = {\r\n                            title: {\r\n                                text: this.strings.inverted_time_chart_x_axis,\r\n                            }\r\n                        };\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            useHTML: true,\r\n                            formatter: function() {\r\n                                let category_name = this.points[0].key;\r\n                                let time = vue.convert_time(this.y);\r\n                                return `<small>${category_name}</small></br><b>${time}</b>`;\r\n                            }\r\n                        };\r\n                        chart.legend = {\r\n                            enabled: false\r\n                        };\r\n                        chart.series = [{\r\n                            colorByPoint: true,\r\n                            data: this.inverted_time.data\r\n                        }];\r\n                        return chart;\r\n                    },\r\n\r\n                    build_sessions_by_hours_and_days_chart() {\r\n                        let chart = new Object();\r\n                        chart.title = { text: null };\r\n                        chart.chart = {\r\n                            type: 'heatmap',\r\n                            backgroundColor: null,\r\n                            style: { fontFamily: 'poppins' },\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.strings.days,\r\n                        };\r\n                        chart.yAxis = {\r\n                            categories: this.strings.hours,\r\n                            title: null,\r\n                            reversed: true,\r\n                        };\r\n                        chart.colorAxis = {\r\n                            min: 0,\r\n                            minColor: this.hours_session_colors[0],\r\n                            maxColor: this.hours_session_colors[1],\r\n                        };\r\n                        chart.legend = {\r\n                            layout: 'horizontal',\r\n                            verticalAlign: 'bottom',\r\n                        };\r\n                        chart.tooltip = {\r\n                            useHTML: true,\r\n                            formatter: function() {\r\n                                let xCategoryName = vue.get_point_category_name(this.point, 'x');\r\n                                let yCategoryName = vue.get_point_category_name(this.point, 'y');\r\n                                // let label = vue.strings.sessions_text;\r\n                                // if (this.point.value == 1) {\r\n                                //     label = vue.strings.session_text;\r\n                                // }\r\n                                // return '<b>' + xCategoryName + ' ' + yCategoryName + '</b>: '\r\n                                //     + this.point.value +' ' + label;\r\n                                return '<small>' + xCategoryName + ' ' + yCategoryName + '</small><br/>' +\r\n                                    '<b style=\"color: ' + vue.hours_session_colors[1] + ';\">• </b>' +\r\n                                    vue.capitalizeFirstLetter(vue.strings.sessions_text) + ': ' +\r\n                                    this.point.value + '<br/>';\r\n                            }\r\n                        };\r\n                        chart.series = [{\r\n                            borderWidth: 2,\r\n                            borderColor: '#FAFAFA',\r\n                            data: this.hours_sessions,\r\n                        }];\r\n                        return chart;\r\n                    },\r\n\r\n                    build_resources_access_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'column',\r\n                            backgroundColor: null,\r\n                            style: { fontFamily: 'poppins' },\r\n                        };\r\n                        chart.title = { text: null };\r\n                        chart.colors = this.resources_access_colors;\r\n                        chart.xAxis = {\r\n                            categories: this.resource_access_categories,\r\n                            crosshair: true,\r\n                            title: {\r\n                                text: this.strings.resource_access_x_axis\r\n                            },\r\n                        };\r\n                        chart.yAxis = {\r\n                            min: 0,\r\n                            title: {\r\n                                text: this.strings.resource_access_y_axis\r\n                            },\r\n                        };\r\n                        chart.plotOptions = {\r\n                            column: {\r\n                                stacking: 'normal',\r\n                            },\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function() {\r\n                                            vue.modules_dialog = true;\r\n\r\n                                            vue.saveInteraction (\r\n                                                vue.resources_access_chart,\r\n                                                \"viewed\",\r\n                                                \"resources_details_dialog\",\r\n                                                18\r\n                                            );\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.tooltip = {\r\n                            shared: true,\r\n                            useHTML: true,\r\n                            footerFormat: `<small>${this.strings.modules_details}</small>`,\r\n                        };\r\n                        chart.series = this.resource_access_data;\r\n                        return chart;\r\n                    },\r\n\r\n                    update_interactions(week) {\r\n                        this.loading = true;\r\n                        this.errors = [];\r\n                        let data = {\r\n                            action: \"studentsessions\",\r\n                            userid: this.userid,\r\n                            courseid: this.courseid,\r\n                            weekcode: week.weekcode,\r\n                            profile: this.render_has,\r\n                            url: window.location.href,\r\n                        }\r\n                        Axios({\r\n                            method: 'get',\r\n                            url: M.cfg.wwwroot + \"/local/fliplearning/ajax.php\",\r\n                            params: data,\r\n                        }).then((response) => {\r\n                            if (response.status == 200 && response.data.ok) {\r\n                                this.inverted_time = response.data.data.indicators.inverted_time;\r\n                                this.hours_sessions = response.data.data.indicators.hours_sessions;\r\n                                this.sections = response.data.data.indicators.sections;\r\n                                this.set_modules_in_sections();\r\n                                this.calculate_resources_access();\r\n                            } else {\r\n                                this.error_messages.push(this.strings.error_network);\r\n                            }\r\n                        }).catch((e) => {\r\n                            console.log(e);\r\n                            this.errors.push(this.strings.api_error_network);\r\n                        }).finally(() => {\r\n                            this.loading = false;\r\n                        });\r\n                        return this.data;\r\n                    },\r\n\r\n                    create_section_map() {\r\n                        let sectionsMap = new Map();\r\n                        let sectionid = 0;\r\n                        this.indicators.course_cms.forEach(cm => {\r\n                            sectionid = Number(cm.section);\r\n                            if (!sectionsMap.has(sectionid)) {\r\n                                sectionsMap.set(sectionid, [cm]);\r\n                            } else {\r\n                                sectionsMap.get(sectionid).push(cm);\r\n                            }\r\n                        });\r\n                        this.sections_map = sectionsMap;\r\n                    },\r\n\r\n                    set_modules_in_sections() {\r\n                        let sectionid;\r\n                        this.sections.forEach(section => {\r\n                            sectionid = Number(section.sectionid);\r\n                            section.sectionid = sectionid;\r\n                            section.modules = (this.sections_map.has(sectionid)) ? this.sections_map.get(sectionid) : [];\r\n                        });\r\n                    },\r\n\r\n                    calculate_resources_access() {\r\n                        let modulesMap = new Map();\r\n                        let moduleid, user_cm, mod, total_modules = 0,\r\n                            access_modules = 0;\r\n                        let modules_names = this.strings.modules_names;\r\n                        this.sections.forEach(section => {\r\n                            section.modules.forEach(module => {\r\n                                (!modulesMap.has(module.modname)) && modulesMap.set(module.modname, { complete: 0, pending: 0 });\r\n                                mod = modulesMap.get(module.modname);\r\n                                moduleid = Number(module.id);\r\n                                module.id = moduleid;\r\n                                module.complete = false;\r\n                                module.viewed = false;\r\n                                module.interactions = 0;\r\n\r\n                                user_cm = this.indicators.user_cms[`cm${module.id}`];\r\n                                if (user_cm) {\r\n                                    module.complete = user_cm.complete;\r\n                                    module.viewed = user_cm.viewed;\r\n                                    module.interactions = user_cm.interactions;\r\n                                    (user_cm.complete) ? mod.complete++: mod.pending++;\r\n                                    (user_cm.complete) && access_modules++;\r\n                                } else {\r\n                                    mod.pending++\r\n                                }\r\n                                total_modules++;\r\n                            });\r\n                        });\r\n                        let categories = [],\r\n                            complete_data = [],\r\n                            pending_data = [];\r\n                        modulesMap.forEach(function(value, key) {\r\n                            categories.push(modules_names[key] || key);\r\n                            complete_data.push(value.complete);\r\n                            pending_data.push(value.pending);\r\n                        });\r\n                        this.resource_access_categories = categories;\r\n                        this.resource_access_data = [\r\n                            { name: this.strings.resource_access_legend1, data: complete_data },\r\n                            { name: this.strings.resource_access_legend2, data: pending_data },\r\n                        ];\r\n                        this.week_progress = Math.floor((access_modules * 100) / total_modules) || 0;\r\n                    },\r\n\r\n                    get_progress_percentage() {\r\n                        return `${this.week_progress} %`;\r\n                    },\r\n\r\n                    get_point_category_name(point, dimension) {\r\n                        let series = point.series,\r\n                            isY = dimension === 'y',\r\n                            axis = series[isY ? 'yAxis' : 'xAxis'];\r\n                        return axis.categories[point[isY ? 'y' : 'x']];\r\n                    },\r\n\r\n                    get_module_icon(modname) {\r\n                        return `${M.cfg.wwwroot}/theme/image.php/boost/${modname}/1/icon`;\r\n                    },\r\n\r\n                    get_module_url(module) {\r\n                        return `${M.cfg.wwwroot}/mod/${module.modname}/view.php?id=${module.id}`;\r\n                    },\r\n\r\n                    get_interactions_number(interactions) {\r\n                        let interactions_text = (interactions == 1) ? this.strings.modules_interaction : this.strings.modules_interactions;\r\n                        return `(${interactions} ${interactions_text})`;\r\n                    },\r\n\r\n                    convert_time(time) {\r\n                        time *= 3600; // pasar las horas a segundos\r\n                        let h = this.strings.hours_short;\r\n                        let m = this.strings.minutes_short;\r\n                        let s = this.strings.seconds_short;\r\n                        let hours = Math.floor(time / 3600);\r\n                        let minutes = Math.floor((time % 3600) / 60);\r\n                        let seconds = Math.floor(time % 60);\r\n                        let text;\r\n                        if (hours >= 1) {\r\n                            if (minutes >= 1) {\r\n                                text = `${hours}${h} ${minutes}${m}`;\r\n                            } else {\r\n                                text = `${hours}${h}`;\r\n                            }\r\n                        } else if ((minutes >= 1)) {\r\n                            if (seconds >= 1) {\r\n                                text = `${minutes}${m} ${seconds}${s}`;\r\n                            } else {\r\n                                text = `${minutes}${m}`;\r\n                            }\r\n                        } else {\r\n                            text = `${seconds}${s}`;\r\n                        }\r\n                        return text;\r\n                    },\r\n\r\n                    update_modules_dialog(value) {\r\n                        this.modules_dialog = value;\r\n                    },\r\n\r\n                    openChartHelp(chart) {\r\n                        let contents = [];\r\n                        if (chart == this.inverted_time_chart) {\r\n                            contents.push({\r\n                                title: this.strings.inverted_time_help_title,\r\n                                description: this.strings.inverted_time_help_description_p1,\r\n                            });\r\n                            contents.push({\r\n                                description: this.strings.inverted_time_help_description_p2,\r\n                            });\r\n                        } else if (chart == this.sessions_by_hours_and_days_chart) {\r\n                            contents.push({\r\n                                title: this.strings.hours_session_help_title,\r\n                                description: this.strings.hours_session_help_description_p1,\r\n                            });\r\n                            contents.push({\r\n                                description: this.strings.hours_session_help_description_p2,\r\n                            });\r\n                        } else if (chart == this.resources_access_chart) {\r\n                            contents.push({\r\n                                title: this.strings.resources_access_help_title,\r\n                                description: this.strings.resources_access_help_description_p1,\r\n                            });\r\n                            contents.push({\r\n                                description: this.strings.resources_access_help_description_p2,\r\n                            });\r\n                            contents.push({\r\n                                description: this.strings.resources_access_help_description_p3,\r\n                            });\r\n                        }\r\n                        this.help_contents = contents;\r\n                        if (this.help_contents.length) {\r\n                            this.help_dialog = true;\r\n                            this.saveInteraction (chart, \"viewed\", \"chart_help_dialog\", 7);\r\n                        }\r\n                    },\r\n\r\n                    saveInteraction (component, interaction, target, interactiontype) {\r\n                        let data = {\r\n                            action : \"saveinteraction\",\r\n                            pluginsection : this.pluginSectionName,\r\n                            component,\r\n                            interaction,\r\n                            target,\r\n                            url: window.location.href,\r\n                            interactiontype,\r\n                            courseid : this.courseid,\r\n                            userid : this.userid,\r\n                        };\r\n                        Axios({\r\n                            method:'get',\r\n                            url: `${M.cfg.wwwroot}/local/fliplearning/ajax.php`,\r\n                            params : data,\r\n                        }).then((r) => {}).catch((e) => {});\r\n                    },\r\n\r\n                    update_help_dialog(value) {\r\n                        this.help_dialog = value;\r\n                    },\r\n\r\n                    capitalizeFirstLetter(string) {\r\n                        return string.charAt(0).toUpperCase() + string.slice(1);\r\n                    },\r\n\r\n                    get_timezone() {\r\n                        let information = `${this.strings.change_timezone} ${this.timezone}`\r\n                        return information;\r\n                    },\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            init: init\r\n        };\r\n    });"],"file":"student_sessions.min.js"}