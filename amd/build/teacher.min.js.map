{"version":3,"sources":["../src/teacher.js"],"names":["define","Vue","Vuetify","Axios","Pagination","ChartStatic","Pageheader","init","content","console","log","use","component","vue","delimiters","el","vuetify","data","strings","groups","userid","courseid","timezone","render_has","profile_render","indicators","search","week_resources_categories","week_resources_data","beforeMount","calculate_week_resources","mounted","document","querySelector","style","display","methods","get_help_content","get_students_message","total_students","teacher_indicators_student","teacher_indicators_students","get_resources_message","total_cms","teacher_indicators_module","teacher_indicators_modules","get_weeks_message","total_weeks","teacher_indicators_week","teacher_indicators_weeks","categories","week_name","weeks","forEach","week","name","position","push","cms","capitalizeFirstLetter","build_week_resources_chart","chart","type","title","text","teacher_indicators_week_resources_chart_title","xAxis","yAxis","min","teacher_indicators_week_resources_yaxis_title","legend","enabled","series","build_weeks_sessions_chart","weeks_sessions_title","marginTop","marginBottom","plotBorderWidth","backgroundColor","sessions","reversed","colorAxis","stops","layout","margin","verticalAlign","tooltip","formatter","days","point","y","x","xCategoryName","get_point_category_name","yCategoryName","label","teacher_indicators_sessions","value","teacher_indicators_session","borderWidth","borderColor","dataLabels","table_headers","headers","align","sortable","thead_name","thead_lastname","thead_email","thead_progress","thead_sessions","thead_time","get_picture_url","url","M","cfg","wwwroot","get_percentage_progress","get_progress_tooltip","item","module_label","finished_label","teacher_indicators_finished","complete","teacher_indicators_finalized","of_conector","total","dimension","isY","axis","string","charAt","toUpperCase","slice","get_timezone","information","ss_change_timezone"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/pagination\",\r\n        \"local_fliplearning/chartstatic\",\r\n        \"local_fliplearning/pageheader\",\r\n    ],\r\n    function(Vue, Vuetify, Axios, Pagination, ChartStatic, Pageheader) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            console.log(content);\r\n            Vue.use(Vuetify);\r\n            Vue.component('pagination', Pagination);\r\n            Vue.component('chart', ChartStatic);\r\n            Vue.component('pageheader', Pageheader);\r\n            let vue = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#teacher\",\r\n                vuetify: new Vuetify(),\r\n                data() {\r\n                    return {\r\n                        strings : content.strings,\r\n                        groups : content.groups,\r\n                        userid : content.userid,\r\n                        courseid : content.courseid,\r\n                        timezone : content.timezone,\r\n                        render_has : content.profile_render,\r\n\r\n                        indicators: content.indicators,\r\n                        search: null,\r\n                        week_resources_categories: [],\r\n                        week_resources_data: []\r\n\r\n                    }\r\n                },\r\n                beforeMount(){\r\n                    this.calculate_week_resources();\r\n                },\r\n                mounted(){\r\n                    document.querySelector(\"#sessions-loader\").style.display = \"none\";\r\n                    document.querySelector(\"#teacher\").style.display = \"block\";\r\n                },\r\n                methods : {\r\n                    get_help_content(){\r\n                        return '';\r\n                    },\r\n\r\n                    get_students_message(){\r\n                        return (this.indicators.total_students == 1) ? this.strings.teacher_indicators_student : this.strings.teacher_indicators_students;\r\n                    },\r\n\r\n                    get_resources_message(){\r\n                        return (this.indicators.total_cms == 1) ? this.strings.teacher_indicators_module : this.strings.teacher_indicators_modules;\r\n                    },\r\n\r\n                    get_weeks_message(){\r\n                        return (this.indicators.total_weeks == 1) ? this.strings.teacher_indicators_week : this.strings.teacher_indicators_weeks;\r\n                    },\r\n\r\n                    calculate_week_resources() {\r\n                        let categories = [], data = [];\r\n                        let week_name;\r\n                        this.indicators.weeks.forEach(week => {\r\n                            week_name = `${week.name} ${(week.position+1)}`;\r\n                            categories.push(week_name);\r\n                            data.push(week.cms);\r\n                        });\r\n                        let name = this.capitalizeFirstLetter(this.strings.teacher_indicators_modules);\r\n                        this.week_resources_categories = categories;\r\n                        this.week_resources_data = [{ name, data}];\r\n                    },\r\n\r\n                    build_week_resources_chart() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'bar'\r\n                        };\r\n                        chart.title = {\r\n                            text: this.strings.teacher_indicators_week_resources_chart_title\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.week_resources_categories\r\n                        };\r\n                        chart.yAxis = {\r\n                            min: 0,\r\n                                title: {\r\n                                text: this.strings.teacher_indicators_week_resources_yaxis_title\r\n                            }\r\n                        };\r\n                        chart.legend = {\r\n                            enabled: false\r\n                        };\r\n                        chart.series = this.week_resources_data;\r\n                        return chart;\r\n                    },\r\n\r\n                    build_weeks_sessions_chart() {\r\n                        let chart = new Object();\r\n                        chart.title = {\r\n                            text: this.strings.weeks_sessions_title,\r\n                        };\r\n                        chart.chart = {\r\n                            type: 'heatmap',\r\n                            marginTop: 40,\r\n                            marginBottom: 80,\r\n                            plotBorderWidth: 0,\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.strings.weeks,\r\n                        };\r\n                        chart.yAxis = {\r\n                            categories: this.indicators.sessions.categories,\r\n                            title: null,\r\n                            reversed: true,\r\n                        };\r\n                        chart.colorAxis = {\r\n                            min: 0,\r\n                            stops: [\r\n                                [0.0, '#E0E0E0'],\r\n                                [0.25, '#D6E7F9'],\r\n                                [0.50, '#9AC4EF'],\r\n                                [0.75, '#5DA1E5'],\r\n                                [1, '#3384D6'],\r\n                            ],\r\n                        };\r\n                        chart.legend = {\r\n                            layout: 'horizontal',\r\n                            margin: 30,\r\n                            verticalAlign: 'bottom',\r\n                        };\r\n                        chart.tooltip = {\r\n                            formatter: function () {\r\n                                let days = vue.indicators.sessions.weeks[this.point.y][this.point.x] || '';\r\n                                let xCategoryName = vue.get_point_category_name(this.point, 'x');\r\n                                let yCategoryName = vue.get_point_category_name(this.point, 'y');\r\n                                let label = vue.strings.teacher_indicators_sessions;\r\n                                if (this.point.value == 1) {\r\n                                    label = vue.strings.teacher_indicators_session;\r\n                                }\r\n                                return '<b>' + yCategoryName + ' ' + xCategoryName + '</b>: '\r\n                                    + this.point.value +' ' + label + '<br/>' + days;\r\n                            }\r\n                        };\r\n                        chart.series = [{\r\n                            borderWidth: 2,\r\n                            borderColor: '#FAFAFA',\r\n                            data: this.indicators.sessions.data,\r\n                            dataLabels: {\r\n                                enabled: false,\r\n                            }\r\n                        }];\r\n                        return chart;\r\n                    },\r\n\r\n                    table_headers(){\r\n                        let headers = [\r\n                            { text: '', value : 'id', align : 'center', sortable : false},\r\n                            { text: this.strings.thead_name , value : 'firstname'},\r\n                            { text: this.strings.thead_lastname , value : 'lastname'},\r\n                            { text: this.strings.thead_email , value : 'email'},\r\n                            { text: this.strings.thead_progress , value : 'progress_percentage',  align : 'center'},\r\n                            { text: this.strings.thead_sessions , value : 'sessions_number',  align : 'center'},\r\n                            { text: this.strings.thead_time , value : 'inverted_time', align : 'center'},\r\n                        ];\r\n                        return headers;\r\n                    },\r\n\r\n                    get_picture_url(userid){\r\n                        let url = `${M.cfg.wwwroot}/user/pix.php?file=/${userid}/f1.jpg`;\r\n                        return url;\r\n                    },\r\n\r\n                    get_percentage_progress(value){\r\n                        return `${value} %`;\r\n                    },\r\n\r\n                    get_progress_tooltip(item){\r\n                        let module_label = this.strings.teacher_indicators_modules;\r\n                        let finished_label = this.strings.teacher_indicators_finished;\r\n                        if (item.cms.complete == 1) {\r\n                            module_label = this.strings.teacher_indicators_module;\r\n                            finished_label = this.strings.teacher_indicators_finalized;\r\n                        }\r\n                        return `${item.cms.complete} ${module_label} ${finished_label} ${this.strings.of_conector} ${item.cms.total}`;\r\n                    },\r\n\r\n                    get_point_category_name(point, dimension) {\r\n                        let series = point.series,\r\n                            isY = dimension === 'y',\r\n                            axis = series[isY ? 'yAxis' : 'xAxis'];\r\n                        return axis.categories[point[isY ? 'y' : 'x']];\r\n                    },\r\n\r\n                    capitalizeFirstLetter(string) {\r\n                        return string.charAt(0).toUpperCase() + string.slice(1);\r\n                    },\r\n\r\n                    get_timezone(){\r\n                        let information = `${this.strings.ss_change_timezone} ${this.timezone}`\r\n                        return information;\r\n                    },\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            init : init\r\n        };\r\n    });"],"file":"teacher.min.js"}