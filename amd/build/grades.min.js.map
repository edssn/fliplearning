{"version":3,"sources":["../src/grades.js"],"names":["define","Vue","Vuetify","Axios","Moment","Pagination","ChartDynamic","Pageheader","Emailform","init","content","console","log","use","component","vue","delimiters","el","vuetify","data","strings","groups","userid","courseid","timezone","render_has","profile_render","loading","errors","pages","grades","default_category","average_categories","average_data","selected_items","item_details","grade_item_title","grade_item_details_categories","grade_item_details_data","grade_item_distribution_categories","grade_item_distribution_data","selected_item","grade_item_users","selected_users","dialog","modulename","moduleid","email_strings","beforeMount","categories","length","calculate_chart_items_average","items","item","find_first_grade_item","update_detail_charts","mounted","document","querySelector","style","display","methods","get_help_content","change_category","build_chart_items_average","chart","type","backgroundColor","title","text","grades_chart_title","xAxis","legend","enabled","plotOptions","series","cursor","point","events","click","position","x","tooltip","formatter","value","y","count","gradecount","name","view_details","average","students_label","grades_tooltip_students","grades_tooltip_student","isInt","toFixed","grademax","grades_tooltip_average","grades_tooltip_grade","student_count","yAxis","allowDecimals","labels","format","grades_yaxis_title","credits","lang","noData","no_data","build_chart_item_grade_detail","subtitle","grades_details_subtitle","category","itemname","maxgrade","grade","maxrating","minrating","build_chart_item_grades_distribution","grades_distribution_subtitle","grades_distribution_yaxis_title","prefix","grades_distribution_tooltip_prefix","suffix","grades_distribution_tooltip_suffix","send_mail","students_text","student_text","stacking","borderWidth","pointPadding","groupPadding","column","subject","subject_prefix","marker","lineWidth","values","forEach","push","average_percentage","itemmodule","coursemoduleid","calculate_chart_item_grade_detail","calculate_chart_item_grades_distribution","item_data","greater","grades_greater_than","smaller","grades_smaller_than","users","ranges","limit","weight","max","min","range","index","rawgrade","user","label","i","n","update_dialog","get_timezone","information","ss_change_timezone"],"mappings":"AAAAA,OAAM,6BAAC,CAAC,wBAAD,CACC,4BADD,CAEC,0BAFD,CAGC,2BAHD,CAIC,+BAJD,CAKC,iCALD,CAMC,+BAND,CAOC,8BAPD,CAAD,CASF,SAASC,CAAT,CAAcC,CAAd,CAAuBC,CAAvB,CAA8BC,CAA9B,CAAsCC,CAAtC,CAAkDC,CAAlD,CAAgEC,CAAhE,CAA4EC,CAA5E,CAAuF,CACnF,aA2YA,MAAO,CACHC,IAAI,CA1YR,SAAcC,CAAd,CAAuB,CACnBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAT,CAAG,CAACY,GAAJ,CAAQX,CAAR,EACAD,CAAG,CAACa,SAAJ,CAAc,YAAd,CAA4BT,CAA5B,EACAJ,CAAG,CAACa,SAAJ,CAAc,OAAd,CAAuBR,CAAvB,EACAL,CAAG,CAACa,SAAJ,CAAc,YAAd,CAA4BP,CAA5B,EACAN,CAAG,CAACa,SAAJ,CAAc,WAAd,CAA2BN,CAA3B,EACA,GAAIO,CAAAA,CAAG,CAAG,GAAId,CAAAA,CAAJ,CAAQ,CACde,UAAU,CAAE,CAAC,IAAD,CAAO,IAAP,CADE,CAEdC,EAAE,CAAE,SAFU,CAGdC,OAAO,CAAE,GAAIhB,CAAAA,CAHC,CAIdiB,IAJc,gBAIP,CACH,MAAO,CACHC,OAAO,CAAGV,CAAO,CAACU,OADf,CAEHC,MAAM,CAAGX,CAAO,CAACW,MAFd,CAGHC,MAAM,CAAGZ,CAAO,CAACY,MAHd,CAIHC,QAAQ,CAAGb,CAAO,CAACa,QAJhB,CAKHC,QAAQ,CAAGd,CAAO,CAACc,QALhB,CAMHC,UAAU,CAAGf,CAAO,CAACgB,cANlB,CAOHC,OAAO,GAPJ,CAQHC,MAAM,CAAG,EARN,CASHC,KAAK,CAAGnB,CAAO,CAACmB,KATb,CAWHC,MAAM,CAAEpB,CAAO,CAACoB,MAXb,CAYHC,gBAAgB,CAAE,IAZf,CAaHC,kBAAkB,CAAE,EAbjB,CAcHC,YAAY,CAAE,EAdX,CAeHC,cAAc,CAAE,EAfb,CAgBHC,YAAY,CAAE,EAhBX,CAkBHC,gBAAgB,CAAE,EAlBf,CAmBHC,6BAA6B,CAAE,EAnB5B,CAoBHC,uBAAuB,CAAE,EApBtB,CAsBHC,kCAAkC,CAAE,EAtBjC,CAuBHC,4BAA4B,CAAE,EAvB3B,CAyBHC,aAAa,CAAE,IAzBZ,CA2BHC,gBAAgB,CAAE,IA3Bf,CA4BHC,cAAc,CAAE,EA5Bb,CA6BHC,MAAM,GA7BH,CA8BHC,UAAU,CAAG,EA9BV,CA+BHC,QAAQ,GA/BL,CAgCHC,aAAa,CAAErC,CAAO,CAACU,OAAR,CAAgB2B,aAhC5B,CAkCV,CAvCa,CAwCdC,WAxCc,uBAwCD,CACT,GAAI,KAAKlB,MAAL,CAAYmB,UAAZ,CAAuBC,MAA3B,CAAmC,CAC/B,KAAKnB,gBAAL,CAAwB,KAAKD,MAAL,CAAYmB,UAAZ,CAAuB,CAAvB,CAAxB,CACA,KAAKE,6BAAL,CAAmC,KAAKpB,gBAAL,CAAsBqB,KAAzD,EACA,GAAIC,CAAAA,CAAI,CAAG,KAAKC,qBAAL,CAA2B,KAAKvB,gBAAL,CAAsBqB,KAAjD,CAAX,CACA,KAAKG,oBAAL,CAA0BF,CAA1B,CACH,CACJ,CA/Ca,CAgDdG,OAhDc,mBAgDL,CACLC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,EAA2CC,KAA3C,CAAiDC,OAAjD,CAA2D,MAA3D,CACAH,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCC,KAAlC,CAAwCC,OAAxC,CAAkD,OACrD,CAnDa,CAoDdC,OAAO,CAAG,CACNC,gBADM,4BACY,CAEd,sBACH,CAJK,CAMNC,eANM,0BAMUX,CANV,CAMiB,CACnB,KAAKD,6BAAL,CAAmCC,CAAnC,EACA,GAAIC,CAAAA,CAAI,CAAG,KAAKC,qBAAL,CAA2BF,CAA3B,CAAX,CACA,KAAKG,oBAAL,CAA0BF,CAA1B,CACH,CAVK,CAYNW,yBAZM,qCAYsB,CACxB,GAAIC,CAAAA,CAAK,GAAT,CACAA,CAAK,CAACA,KAAN,CAAc,CACVC,IAAI,CAAE,QADI,CAEVC,eAAe,CAAE,SAFP,CAAd,CAIAF,CAAK,CAACG,KAAN,CAAc,CACVC,IAAI,CAAE,KAAKjD,OAAL,CAAakD,kBADT,CAAd,CAGAL,CAAK,CAACM,KAAN,CAAc,CACVtB,UAAU,CAAE,KAAKjB,kBADP,CAAd,CAGAiC,CAAK,CAACO,MAAN,CAAe,CACXC,OAAO,GADI,CAAf,CAGAR,CAAK,CAACS,WAAN,CAAoB,CAChBC,MAAM,CAAE,CACJC,MAAM,CAAE,SADJ,CAEJC,KAAK,CAAE,CACHC,MAAM,CAAE,CACJC,KAAK,CAAE,gBAAY,IACXC,CAAAA,CAAQ,CAAG,KAAKC,CADL,CAEX5B,CAAI,CAAGtC,CAAG,CAACmB,cAAJ,CAAmB8C,CAAnB,CAFI,CAGfjE,CAAG,CAACwC,oBAAJ,CAAyBF,CAAzB,CACH,CALG,CADL,CAFH,CADQ,CAApB,CAcAY,CAAK,CAACiB,OAAN,CAAgB,CACZC,SAAS,CAAE,oBAAW,IACdH,CAAAA,CAAQ,CAAG,KAAKH,KAAL,CAAWI,CADR,CAEdG,CAAK,CAAG,KAAKP,KAAL,CAAWQ,CAFL,CAGdhC,CAAI,CAAGtC,CAAG,CAACmB,cAAJ,CAAmB8C,CAAnB,CAHO,CAIdM,CAAK,CAAGjC,CAAI,CAACkC,UAJC,CAKdC,CAAI,CAAG,KAAKP,CALE,CAMdQ,CAAY,CAAG1E,CAAG,CAACK,OAAJ,CAAYqE,YANb,CAOdC,CAAO,EAAUrC,CAAI,CAACqC,OAPR,CAQdC,CAAc,CAAG5E,CAAG,CAACK,OAAJ,CAAYwE,uBARf,CASlB,GAAa,CAAT,EAAAN,CAAJ,CAAgB,CACZK,CAAc,CAAG5E,CAAG,CAACK,OAAJ,CAAYyE,sBAChC,CACDT,CAAK,CAAGrE,CAAG,CAAC+E,KAAJ,CAAUV,CAAV,EAAmBA,CAAnB,CAA2BA,CAAK,CAACW,OAAN,CAAc,CAAd,CAAnC,CACAL,CAAO,CAAG3E,CAAG,CAAC+E,KAAJ,CAAUJ,CAAV,EAAqBA,CAArB,CAA+BA,CAAO,CAACK,OAAR,CAAgB,CAAhB,CAAzC,CAbkB,GAcdC,CAAAA,CAAQ,CAAG3C,CAAI,CAAC2C,QAdF,CAed3B,CAAI,CAAG,MAAQmB,CAAR,CAAe,WAAf,CACPzE,CAAG,CAACK,OAAJ,CAAY6E,sBADL,CAC8B,IAD9B,CACqCP,CADrC,CAC+C,IAD/C,CACsDN,CADtD,CAC8D,UAD9D,CAEPrE,CAAG,CAACK,OAAJ,CAAY8E,oBAFL,CAE4B,IAF5B,CAEmCF,CAFnC,CAE8C,OAF9C,CAGPV,CAHO,CAGC,GAHD,CAGOK,CAHP,CAGwB,GAHxB,CAG8B5E,CAAG,CAACe,MAAJ,CAAWqE,aAHzC,CAGyD,OAHzD,CAIPV,CAnBc,CAoBlB,MAAOpB,CAAAA,CACV,CAtBW,CAAhB,CAwBAJ,CAAK,CAACmC,KAAN,CAAc,CAAC,CACXC,aAAa,GADF,CAEXC,MAAM,CAAE,CACJC,MAAM,CAAE,WADJ,CAFG,CAKXnC,KAAK,CAAE,CACHC,IAAI,CAAE,KAAKjD,OAAL,CAAaoF,kBADhB,CALI,CAAD,CAAd,CASAvC,CAAK,CAACU,MAAN,CAAe,CAAC,CACZxD,IAAI,CAAE,KAAKc,YADC,CAAD,CAAf,CAGAgC,CAAK,CAACwC,OAAN,CAAgB,CACZhC,OAAO,GADK,CAAhB,CAGAR,CAAK,CAACyC,IAAN,CAAa,CACTC,MAAM,CAAE,KAAKvF,OAAL,CAAawF,OADZ,CAAb,CAGA,MAAO3C,CAAAA,CACV,CApFK,CAsFN4C,6BAtFM,yCAsF0B,CAC5B,GAAI5C,CAAAA,CAAK,GAAT,CACAA,CAAK,CAACA,KAAN,CAAc,CACVC,IAAI,CAAE,KADI,CAEVC,eAAe,CAAE,SAFP,CAAd,CAIAF,CAAK,CAACG,KAAN,CAAc,CACVC,IAAI,CAAE,KAAKjC,gBADD,CAAd,CAGA6B,CAAK,CAAC6C,QAAN,CAAiB,CACbzC,IAAI,CAAE,KAAKjD,OAAL,CAAa2F,uBADN,CAAjB,CAGA9C,CAAK,CAACM,KAAN,CAAc,CACVtB,UAAU,CAAE,KAAK7B,OAAL,CAAaiB,6BADf,CAAd,CAGA4B,CAAK,CAACO,MAAN,CAAe,CACXC,OAAO,GADI,CAAf,CAGAR,CAAK,CAACiB,OAAN,CAAgB,CACZC,SAAS,CAAE,oBAAW,IACd6B,CAAAA,CAAQ,CAAG,KAAK/B,CADF,CAEdO,CAAI,CAAGzE,CAAG,CAAC0B,aAAJ,CAAkBwE,QAFX,CAGdC,CAAQ,CAAGnG,CAAG,CAAC0B,aAAJ,CAAkBuD,QAHf,CAIdmB,CAAK,CAAG,CAJM,CAKlB,GAAoB,CAAhB,OAAKtC,KAAL,CAAWI,CAAf,CAAuB,CACnBkC,CAAK,CAAGpG,CAAG,CAAC0B,aAAJ,CAAkB2E,SAC7B,CAFD,IAEO,IAAoB,CAAhB,OAAKvC,KAAL,CAAWI,CAAf,CAAuB,CAC1BkC,CAAK,CAAGpG,CAAG,CAAC0B,aAAJ,CAAkBiD,OAC7B,CAFM,IAEA,CACHyB,CAAK,CAAGpG,CAAG,CAAC0B,aAAJ,CAAkB4E,SAC7B,CACDF,CAAK,EAAUA,CAAf,CACAA,CAAK,CAAGpG,CAAG,CAAC+E,KAAJ,CAAUqB,CAAV,EAAmBA,CAAnB,CAA2BA,CAAK,CAACpB,OAAN,CAAc,CAAd,CAAnC,CACA,GAAI1B,CAAAA,CAAI,CAAG,MAAQmB,CAAR,CAAe,WAAf,CACPwB,CADO,CACI,IADJ,CACWG,CADX,CACmB,GADnB,CACyBD,CADzB,CACoC,OAD/C,CAEA,MAAO7C,CAAAA,CACV,CAlBW,CAAhB,CAoBAJ,CAAK,CAACmC,KAAN,CAAc,CAAC,CACXhC,KAAK,CAAE,CACHK,OAAO,GADJ,CADI,CAAD,CAAd,CAKAR,CAAK,CAACU,MAAN,CAAe,CAAC,CACZxD,IAAI,CAAE,KAAKmB,uBADC,CAAD,CAAf,CAGA2B,CAAK,CAACwC,OAAN,CAAgB,CACZhC,OAAO,GADK,CAAhB,CAGAR,CAAK,CAACyC,IAAN,CAAa,CACTC,MAAM,CAAE,KAAKvF,OAAL,CAAawF,OADZ,CAAb,CAGA,MAAO3C,CAAAA,CACV,CA3IK,CA6INqD,oCA7IM,gDA6IiC,CACnC,GAAIrD,CAAAA,CAAK,GAAT,CACAA,CAAK,CAACA,KAAN,CAAc,CACVE,eAAe,CAAE,SADP,CAAd,CAGAF,CAAK,CAACG,KAAN,CAAc,CACVC,IAAI,CAAE,KAAKjC,gBADD,CAAd,CAGA6B,CAAK,CAAC6C,QAAN,CAAiB,CACbzC,IAAI,CAAE,KAAKjD,OAAL,CAAamG,4BADN,CAAjB,CAGAtD,CAAK,CAACM,KAAN,CAAc,CACVtB,UAAU,CAAE,KAAKV,kCADP,CAAd,CAGA0B,CAAK,CAACmC,KAAN,CAAc,CAAC,CACXhC,KAAK,CAAE,CACHC,IAAI,CAAE,KAAKjD,OAAL,CAAaoG,+BADhB,CADI,CAAD,CAAd,CAKAvD,CAAK,CAACO,MAAN,CAAe,CACXC,OAAO,GADI,CAAf,CAGAR,CAAK,CAACiB,OAAN,CAAgB,CACZC,SAAS,CAAE,oBAAW,IACdsC,CAAAA,CAAM,CAAG1G,CAAG,CAACK,OAAJ,CAAYsG,kCADP,CAEdC,CAAM,CAAG5G,CAAG,CAACK,OAAJ,CAAYwG,kCAFP,CAGdC,CAAS,CAAG9G,CAAG,CAACK,OAAJ,CAAYyG,SAHV,CAIdrC,CAAI,CAAG,KAAKP,CAJE,CAKdG,CAAK,CAAG,KAAKC,CALC,CAMdM,CAAc,CAAG5E,CAAG,CAACK,OAAJ,CAAY0G,aANf,CAOlB,GAAa,CAAT,EAAA1C,CAAJ,CAAgB,CACZO,CAAc,CAAG5E,CAAG,CAACK,OAAJ,CAAY2G,YAChC,CACD,GAAI1D,CAAAA,CAAI,CAAG,MAAQoD,CAAR,CAAiB,SAAjB,CAA4BjC,CAA5B,CAAmC,QAAnC,CACLJ,CADK,CACG,GADH,CACSO,CADT,CAC0B,GAD1B,CACgCgC,CADhC,CACyC,QADzC,CAELE,CAFN,CAGA,MAAOxD,CAAAA,CACV,CAfW,CAAhB,CAiBAJ,CAAK,CAACS,WAAN,CAAoB,CAChBC,MAAM,CAAE,CACJqD,QAAQ,CAAE,QADN,CAEJC,WAAW,CAAE,CAFT,CAGJC,YAAY,CAAE,CAHV,CAIJC,YAAY,CAAE,CAJV,CADQ,CAOhBC,MAAM,CAAC,CACHvD,KAAK,CAAC,CACFC,MAAM,CAAE,CACJC,KAAK,CAAE,gBAAY,CACf,GAAIC,CAAAA,CAAQ,CAAG,KAAKC,CAApB,CACAlE,CAAG,CAAC4B,cAAJ,CAAqB5B,CAAG,CAAC2B,gBAAJ,CAAqBsC,CAArB,CAArB,CACAjE,CAAG,CAACgC,aAAJ,CAAkBsF,OAAlB,CAA4BtH,CAAG,CAACgC,aAAJ,CAAkBuF,cAAlB,CACtB,KADsB,CACdvH,CAAG,CAAC0B,aAAJ,CAAkBwE,QADhC,CAEAlG,CAAG,CAAC6B,MAAJ,GACH,CAPG,CADN,CADH,CAPS,CAApB,CAqBAqB,CAAK,CAACU,MAAN,CAAe,CAAC,CACZT,IAAI,CAAE,QADM,CAEZsB,IAAI,CAAE,MAFM,CAGZrE,IAAI,CAAE,KAAKqB,4BAHC,CAAD,CAIZ,CACC0B,IAAI,CAAE,QADP,CAECsB,IAAI,CAAE,SAFP,CAGCrE,IAAI,CAAE,KAAKqB,4BAHZ,CAIC+F,MAAM,CAAE,CACJC,SAAS,CAAE,CADP,CAJT,CAJY,CAAf,CAYAvE,CAAK,CAACwC,OAAN,CAAgB,CACZhC,OAAO,GADK,CAAhB,CAGAR,CAAK,CAACyC,IAAN,CAAa,CACTC,MAAM,CAAE,KAAKvF,OAAL,CAAawF,OADZ,CAAb,CAGA,MAAO3C,CAAAA,CACV,CA5NK,CA8NNd,6BA9NM,wCA8NwBC,CA9NxB,CA8N+B,IAC7BqF,CAAAA,CAAM,CAAG,EADoB,CAE7BxF,CAAU,CAAG,EAFgB,CAGjCG,CAAK,CAACsF,OAAN,CAAc,SAAArF,CAAI,CAAI,CAClBoF,CAAM,CAACE,IAAP,CAAYtF,CAAI,CAACuF,kBAAjB,EACA3F,CAAU,CAAC0F,IAAX,CAAgBtF,CAAI,CAAC4D,QAArB,CACH,CAHD,EAIA,KAAKjF,kBAAL,CAA0BiB,CAA1B,CACA,KAAKhB,YAAL,CAAoBwG,CAApB,CACA,KAAKvG,cAAL,CAAsBkB,CACzB,CAxOK,CA0ONG,oBA1OM,+BA0OgBF,CA1OhB,CA0OsB,CACxB,KAAKR,UAAL,CAAkBQ,CAAI,CAACwF,UAAvB,CACA,KAAK/F,QAAL,CAAgBO,CAAI,CAACyF,cAArB,CACA,KAAK1G,gBAAL,CAAwBiB,CAAI,CAAC4D,QAA7B,CACA,KAAK8B,iCAAL,CAAuC1F,CAAvC,EACA,KAAK2F,wCAAL,CAA8C3F,CAA9C,CACH,CAhPK,CAkPN0F,iCAlPM,4CAkP4B1F,CAlP5B,CAkPkC,CACpC,KAAKZ,aAAL,CAAqBY,CAArB,CACA,GAAI4F,CAAAA,CAAS,CAAG,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAhB,CACA,GAAI5F,CAAJ,CAAU,CACN4F,CAAS,CAAG,EACD5F,CAAI,CAAC+D,SADJ,EAED/D,CAAI,CAACqC,OAFJ,EAGDrC,CAAI,CAACgE,SAHJ,CAKf,CACD,KAAK/E,uBAAL,CAA+B2G,CAClC,CA7PK,CA+PND,wCA/PM,mDA+PmC3F,CA/PnC,CA+PyC,YACvC6F,CAAO,CAAG,KAAK9H,OAAL,CAAa+H,mBADgB,CAEvCC,CAAO,CAAG,KAAKhI,OAAL,CAAaiI,mBAFgB,CAGvCpG,CAAU,CAAG,WACViG,CADU,mBAEVA,CAFU,mBAGVA,CAHU,mBAIVA,CAJU,mBAKVA,CALU,mBAMVE,CANU,SAH0B,CAUvCX,CAAM,CAAG,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAAa,CAAb,CAAgB,CAAhB,CAV8B,CAWvCa,CAAK,CAAG,CAAC,EAAD,CAAK,EAAL,CAAS,EAAT,CAAa,EAAb,CAAiB,EAAjB,CAAqB,EAArB,CAX+B,CAY3C,GAAIjG,CAAJ,CAAU,IAEFkG,CAAAA,CAAM,CAAG,EAFP,CAGFvD,CAAQ,CAAG3C,CAAI,CAAC2C,QAHd,CAIFwD,CAAK,CAAGxD,CAJN,CACQ,CAAC,EAAD,CAAM,EAAN,CAAW,EAAX,CAAgB,EAAhB,CAAqB,EAArB,CAA0B,CAA1B,CAId,CAAQ0C,OAAR,CAAgB,SAAAe,CAAM,CAAI,CACtB,GAAItC,CAAAA,CAAK,CAAGnB,CAAQ,CAAGyD,CAAvB,CACAF,CAAM,CAACZ,IAAP,CAAY,CAAEe,GAAG,CAAEF,CAAP,CAAcG,GAAG,CAAExC,CAAnB,CAA0B7B,KAAK,CAAE,CAAjC,CAAZ,EACAkE,CAAK,CAAGrC,CAAK,CAAG,EACnB,CAJD,EAMA9D,CAAI,CAACvB,MAAL,CAAY4G,OAAZ,CAAoB,SAAAvB,CAAK,CAAI,CACzBoC,CAAM,CAACb,OAAP,CAAe,SAACkB,CAAD,CAAQC,CAAR,CAAkB,CAC7B,GAAI1C,CAAK,CAAC2C,QAAN,EAAkBF,CAAK,CAACD,GAAxB,EAA+BxC,CAAK,CAAC2C,QAAN,EAAkBF,CAAK,CAACF,GAA3D,CAAgE,CAC5DE,CAAK,CAACtE,KAAN,GACAgE,CAAK,CAACO,CAAD,CAAL,CAAalB,IAAb,CAAkBxB,CAAK,CAAC4C,IAAxB,CACH,CACJ,CALD,CAMH,CAPD,EASAtB,CAAM,CAAG,EAAT,CACAc,CAAM,CAACb,OAAP,CAAe,SAACkB,CAAD,CAAQC,CAAR,CAAkB,IACzBH,CAAAA,CAAG,CAAG,CAAI,CAAC5D,KAAL,CAAW8D,CAAK,CAACF,GAAjB,EAAwBE,CAAK,CAACF,GAA9B,CAAoCE,CAAK,CAACF,GAAN,CAAU3D,OAAV,CAAkB,CAAlB,CADjB,CAEzB4D,CAAG,CAAG,CAAI,CAAC7D,KAAL,CAAW8D,CAAK,CAACD,GAAjB,EAAwBC,CAAK,CAACD,GAA9B,CAAoCC,CAAK,CAACD,GAAN,CAAU5D,OAAV,CAAkB,CAAlB,CAFjB,CAGzBiE,CAAK,WAAMN,CAAN,eAAeC,CAAf,iBAA0B1G,CAAU,CAAC4G,CAAD,CAApC,CAHoB,CAI7B5G,CAAU,CAAC4G,CAAD,CAAV,CAAoBG,CAApB,CACAvB,CAAM,CAACE,IAAP,CAAYiB,CAAK,CAACtE,KAAlB,CACH,CAND,CAOH,CACD,KAAK5C,gBAAL,CAAwB4G,CAAxB,CACA,KAAK/G,kCAAL,CAA0CU,CAA1C,CACA,KAAKT,4BAAL,CAAoCiG,CACvC,CA3SK,CA6SNnF,qBA7SM,gCA6SgBF,CA7ShB,CA6SuB,CACzB,GAAIC,CAAAA,CAAJ,CACA,GAAID,CAAK,CAACF,MAAV,CAAkB,CAEd,OADIoC,CAAAA,CAAK,CAAGlC,CAAK,CAACF,MAClB,CAAS+G,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG3E,CAApB,CAA2B2E,CAAC,EAA5B,CAAgC,CAC5B,GAAyB,CAArB,CAAA7G,CAAK,CAAC6G,CAAD,CAAL,CAAS7C,SAAb,CAA4B,CACxB/D,CAAI,CAAGD,CAAK,CAAC6G,CAAD,CAAZ,CACA,KACH,CACJ,CACD,GAAI,CAAC5G,CAAL,CAAW,CACPA,CAAI,CAAGD,CAAK,CAAC,CAAD,CACf,CACJ,CACD,MAAOC,CAAAA,CACV,CA5TK,CA8TNyC,KA9TM,gBA8TAoE,CA9TA,CA8TG,CACL,MAAiB,EAAV,EAAAA,CAAC,CAAG,CACd,CAhUK,CAkUNC,aAlUM,wBAkUS/E,CAlUT,CAkUgB,CAClB,KAAKxC,MAAL,CAAcwC,CACjB,CApUK,CAsUNgF,YAtUM,wBAsUQ,CACV,GAAIC,CAAAA,CAAW,WAAM,KAAKjJ,OAAL,CAAakJ,kBAAnB,aAAyC,KAAK9I,QAA9C,CAAf,CACA,MAAO6I,CAAAA,CACV,CAzUK,CApDI,CAAR,CAgYb,CAEM,CAGV,CAxZC,CAAN","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/moment\",\r\n        \"local_fliplearning/pagination\",\r\n        \"local_fliplearning/chartdynamic\",\r\n        \"local_fliplearning/pageheader\",\r\n        \"local_fliplearning/emailform\"\r\n    ],\r\n    function(Vue, Vuetify, Axios, Moment, Pagination, ChartDynamic, Pageheader, Emailform) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            console.log(content);\r\n            Vue.use(Vuetify)\r\n            Vue.component('pagination', Pagination);\r\n            Vue.component('chart', ChartDynamic);\r\n            Vue.component('pageheader', Pageheader);\r\n            Vue.component('emailform', Emailform);\r\n            let vue = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#grades\",\r\n                vuetify: new Vuetify(),\r\n                data() {\r\n                    return {\r\n                        strings : content.strings,\r\n                        groups : content.groups,\r\n                        userid : content.userid,\r\n                        courseid : content.courseid,\r\n                        timezone : content.timezone,\r\n                        render_has : content.profile_render,\r\n                        loading : false,\r\n                        errors : [],\r\n                        pages : content.pages,\r\n\r\n                        grades: content.grades,\r\n                        default_category: null,\r\n                        average_categories: [],\r\n                        average_data: [],\r\n                        selected_items: [],\r\n                        item_details: [],\r\n\r\n                        grade_item_title: \"\",\r\n                        grade_item_details_categories: [],\r\n                        grade_item_details_data: [],\r\n\r\n                        grade_item_distribution_categories: [],\r\n                        grade_item_distribution_data: [],\r\n\r\n                        selected_item: null,\r\n\r\n                        grade_item_users: null,\r\n                        selected_users: [],\r\n                        dialog : false,\r\n                        modulename : \"\",\r\n                        moduleid : false,\r\n                        email_strings: content.strings.email_strings,\r\n                    }\r\n                },\r\n                beforeMount(){\r\n                    if (this.grades.categories.length) {\r\n                        this.default_category = this.grades.categories[0];\r\n                        this.calculate_chart_items_average(this.default_category.items);\r\n                        let item = this.find_first_grade_item(this.default_category.items);\r\n                        this.update_detail_charts(item);\r\n                    };\r\n                },\r\n                mounted(){\r\n                    document.querySelector(\"#sessions-loader\").style.display = \"none\";\r\n                    document.querySelector(\"#grades\").style.display = \"block\";\r\n                },\r\n                methods : {\r\n                    get_help_content(){\r\n                        let helpcontents = `Texto de Ayuda`;\r\n                        return helpcontents;\r\n                    },\r\n\r\n                    change_category(items) {\r\n                        this.calculate_chart_items_average(items);\r\n                        let item = this.find_first_grade_item(items);\r\n                        this.update_detail_charts(item);\r\n                    },\r\n\r\n                    build_chart_items_average() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'column',\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.title = {\r\n                            text: this.strings.grades_chart_title\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.average_categories\r\n                        };\r\n                        chart.legend = {\r\n                            enabled: false\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                cursor: 'pointer',\r\n                                point: {\r\n                                    events: {\r\n                                        click: function () {\r\n                                            let position = this.x;\r\n                                            let item = vue.selected_items[position];\r\n                                            vue.update_detail_charts(item);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.tooltip = {\r\n                            formatter: function() {\r\n                                let position = this.point.x;\r\n                                let value = this.point.y;\r\n                                let item = vue.selected_items[position];\r\n                                let count = item.gradecount;\r\n                                let name = this.x;\r\n                                let view_details = vue.strings.view_details;\r\n                                let average = Number(item.average);\r\n                                let students_label = vue.strings.grades_tooltip_students;\r\n                                if (count == 1) {\r\n                                    students_label = vue.strings.grades_tooltip_student;\r\n                                }\r\n                                value = vue.isInt(value) ? value : value.toFixed(2);\r\n                                average = vue.isInt(average) ? average : average.toFixed(2);\r\n                                let grademax = item.grademax;\r\n                                let text = '<b>' + name + '<b> <br/>' +\r\n                                    vue.strings.grades_tooltip_average + ': ' + average + ' (' + value + ' %)<br/>' +\r\n                                    vue.strings.grades_tooltip_grade + ': ' + grademax + '<br/>' +\r\n                                    count + ' ' + students_label + ' ' + vue.grades.student_count + '<br/>' +\r\n                                    view_details;\r\n                                return text;\r\n                            }\r\n                        };\r\n                        chart.yAxis = [{\r\n                            allowDecimals: false,\r\n                            labels: {\r\n                                format: '{value} %',\r\n                            },\r\n                            title: {\r\n                                text: this.strings.grades_yaxis_title,\r\n                            }\r\n                        }];\r\n                        chart.series = [{\r\n                            data: this.average_data,\r\n                        }];\r\n                        chart.credits = {\r\n                            enabled: false\r\n                        };\r\n                        chart.lang = {\r\n                            noData: this.strings.no_data,\r\n                        };\r\n                        return chart;\r\n                    },\r\n\r\n                    build_chart_item_grade_detail() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            type: 'bar',\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.title = {\r\n                            text: this.grade_item_title,\r\n                        };\r\n                        chart.subtitle = {\r\n                            text: this.strings.grades_details_subtitle,\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.strings.grade_item_details_categories,\r\n                        };\r\n                        chart.legend = {\r\n                            enabled: false\r\n                        };\r\n                        chart.tooltip = {\r\n                            formatter: function() {\r\n                                let category = this.x;\r\n                                let name = vue.selected_item.itemname;\r\n                                let maxgrade = vue.selected_item.grademax;\r\n                                let grade = 0;\r\n                                if (this.point.x == 0) {\r\n                                    grade = vue.selected_item.maxrating;\r\n                                } else if (this.point.x == 1) {\r\n                                    grade = vue.selected_item.average;\r\n                                } else {\r\n                                    grade = vue.selected_item.minrating;\r\n                                }\r\n                                grade = Number(grade);\r\n                                grade = vue.isInt(grade) ? grade : grade.toFixed(2);\r\n                                let text = '<b>' + name + '<b> <br/>' +\r\n                                    category + ': ' + grade + '/' + maxgrade + '<br/>';\r\n                                return text;\r\n                            }\r\n                        };\r\n                        chart.yAxis = [{\r\n                            title: {\r\n                                enabled: false,\r\n                            }\r\n                        }];\r\n                        chart.series = [{\r\n                            data: this.grade_item_details_data,\r\n                        }];\r\n                        chart.credits = {\r\n                            enabled: false\r\n                        };\r\n                        chart.lang = {\r\n                            noData: this.strings.no_data,\r\n                        };\r\n                        return chart;\r\n                    },\r\n\r\n                    build_chart_item_grades_distribution() {\r\n                        let chart = new Object();\r\n                        chart.chart = {\r\n                            backgroundColor: '#FAFAFA',\r\n                        };\r\n                        chart.title = {\r\n                            text: this.grade_item_title,\r\n                        };\r\n                        chart.subtitle = {\r\n                            text: this.strings.grades_distribution_subtitle,\r\n                        };\r\n                        chart.xAxis = {\r\n                            categories: this.grade_item_distribution_categories\r\n                        };\r\n                        chart.yAxis = [{\r\n                            title: {\r\n                                text: this.strings.grades_distribution_yaxis_title,\r\n                            }\r\n                        }];\r\n                        chart.legend = {\r\n                            enabled: false\r\n                        };\r\n                        chart.tooltip = {\r\n                            formatter: function() {\r\n                                let prefix = vue.strings.grades_distribution_tooltip_prefix;\r\n                                let suffix = vue.strings.grades_distribution_tooltip_suffix;\r\n                                let send_mail = vue.strings.send_mail;\r\n                                let name = this.x;\r\n                                let value = this.y;\r\n                                let students_label = vue.strings.students_text;\r\n                                if (value == 1) {\r\n                                    students_label = vue.strings.student_text;\r\n                                }\r\n                                let text = '<b>' + prefix + ': </b> '+ name + ' <br/>'\r\n                                    + value + ' ' + students_label + ' ' + suffix + ' <br/>'\r\n                                    + send_mail;\r\n                                return text;\r\n                            }\r\n                        };\r\n                        chart.plotOptions = {\r\n                            series: {\r\n                                stacking: 'normal',\r\n                                borderWidth: 1,\r\n                                pointPadding: 0,\r\n                                groupPadding: 0,\r\n                            },\r\n                            column:{\r\n                                point:{\r\n                                    events: {\r\n                                        click: function () {\r\n                                            let position = this.x;\r\n                                            vue.selected_users = vue.grade_item_users[position];\r\n                                            vue.email_strings.subject = vue.email_strings.subject_prefix\r\n                                                + \" - \" + vue.selected_item.itemname;\r\n                                            vue.dialog = true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                        chart.series = [{\r\n                            type: 'column',\r\n                            name: 'Jane',\r\n                            data: this.grade_item_distribution_data\r\n                        }, {\r\n                            type: 'spline',\r\n                            name: 'Average',\r\n                            data: this.grade_item_distribution_data,\r\n                            marker: {\r\n                                lineWidth: 1,\r\n                            }\r\n                        }];\r\n                        chart.credits = {\r\n                            enabled: false\r\n                        };\r\n                        chart.lang = {\r\n                            noData: this.strings.no_data,\r\n                        };\r\n                        return chart;\r\n                    },\r\n\r\n                    calculate_chart_items_average(items) {\r\n                        let values = [];\r\n                        let categories = [];\r\n                        items.forEach(item => {\r\n                            values.push(item.average_percentage);\r\n                            categories.push(item.itemname);\r\n                        });\r\n                        this.average_categories = categories;\r\n                        this.average_data = values;\r\n                        this.selected_items = items;\r\n                    },\r\n\r\n                    update_detail_charts (item) {\r\n                        this.modulename = item.itemmodule;\r\n                        this.moduleid = item.coursemoduleid;\r\n                        this.grade_item_title = item.itemname;\r\n                        this.calculate_chart_item_grade_detail(item);\r\n                        this.calculate_chart_item_grades_distribution(item);\r\n                    },\r\n\r\n                    calculate_chart_item_grade_detail(item) {\r\n                        this.selected_item = item;\r\n                        let item_data = [0, 0, 0];\r\n                        if (item) {\r\n                            item_data = [\r\n                                Number(item.maxrating),\r\n                                Number(item.average),\r\n                                Number(item.minrating),\r\n                            ];\r\n                        }\r\n                        this.grade_item_details_data = item_data;\r\n                    },\r\n\r\n                    calculate_chart_item_grades_distribution(item) {\r\n                        let greater = this.strings.grades_greater_than;\r\n                        let smaller = this.strings.grades_smaller_than;\r\n                        let categories = [\r\n                            `${greater} 90%`,\r\n                            `${greater} 80%`,\r\n                            `${greater} 70%`,\r\n                            `${greater} 60%`,\r\n                            `${greater} 50%`,\r\n                            `${smaller} 50%`];\r\n                        let values = [0, 0, 0, 0, 0, 0];\r\n                        let users = [[], [], [], [], [], []];\r\n                        if (item) {\r\n                            let weights = [0.9, 0.8, 0.7, 0.6, 0.5, 0];\r\n                            let ranges = [];\r\n                            let grademax = item.grademax;\r\n                            let limit = grademax;\r\n                            weights.forEach(weight => {\r\n                                let grade = grademax * weight;\r\n                                ranges.push({ max: limit, min: grade, count: 0});\r\n                                limit = grade - 0.1;\r\n                            });\r\n\r\n                            item.grades.forEach(grade => {\r\n                                ranges.forEach((range, index) => {\r\n                                    if (grade.rawgrade >= range.min && grade.rawgrade <= range.max) {\r\n                                        range.count++;\r\n                                        users[index].push(grade.user);\r\n                                    }\r\n                                });\r\n                            });\r\n\r\n                            values = [];\r\n                            ranges.forEach((range, index) => {\r\n                                let max = this.isInt(range.max) ? range.max : range.max.toFixed(1);\r\n                                let min = this.isInt(range.min) ? range.min : range.min.toFixed(1);\r\n                                let label = `${max} - ${min}<br/>${categories[index]}`;\r\n                                categories[index] = label;\r\n                                values.push(range.count);\r\n                            });\r\n                        }\r\n                        this.grade_item_users = users;\r\n                        this.grade_item_distribution_categories = categories,\r\n                        this.grade_item_distribution_data = values;\r\n                    },\r\n\r\n                    find_first_grade_item(items) {\r\n                        let item;\r\n                        if (items.length) {\r\n                            let count = items.length;\r\n                            for (let i = 0; i < count; i++) {\r\n                                if (items[i].maxrating > 0) {\r\n                                    item = items[i];\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (!item) {\r\n                                item = items[0];\r\n                            }\r\n                        }\r\n                        return item;\r\n                    },\r\n\r\n                    isInt(n) {\r\n                        return n % 1 === 0;\r\n                    },\r\n\r\n                    update_dialog (value) {\r\n                        this.dialog = value;\r\n                    },\r\n\r\n                    get_timezone(){\r\n                        let information = `${this.strings.ss_change_timezone} ${this.timezone}`\r\n                        return information;\r\n                    },\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            init : init\r\n        };\r\n    });"],"file":"grades.min.js"}