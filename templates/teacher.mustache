<div id="sessions-loader">
    <div class="progressbar-fliplearning">
        <div class="indeterminate"></div>
    </div>
</div>

<v-app id="teacher" class="fliplearning">
    <v-main>
        <pageheader :pagetitle="strings.title" :helptitle="strings.helplabel" :exitbutton="strings.exitbutton"
                    :helpcontents="get_help_content()" :groups="groups" :courseid="courseid" :userid="userid"></pageheader>
        <v-container pa-8>

            <v-row class="justify-center">
                <v-col cols="12" md="3">
                    <v-card elevation="2">
                        <v-card-title v-text="indicators.total_students">
                        </v-card-title>
                        <v-card-text v-text="get_students_message()"></v-card-text>
                    </v-card>
                </v-col>
                <v-col cols="12" md="3">
                    <v-card elevation="2">
                        <v-card-title v-text="indicators.total_cms">
                        </v-card-title>
                        <v-card-text v-text="get_resources_message()"></v-card-text>
                    </v-card>
                </v-col>
                <v-col cols="12" md="3">
                    <v-card elevation="2">
                        <v-card-title v-text="indicators.total_weeks">
                        </v-card-title>
                        <v-card-text v-text="get_weeks_message()"></v-card-text>
                    </v-card>
                </v-col>
            </v-row>

            <v-row>

                <v-col cols="12" md="6">
                    <v-card elevation="2">
                        <v-card-title class="justify-center" v-text="strings.teacher_indicators_week_resources_chart_title"></v-card-title>
                        <v-card-subtitle class="text-center" v-text=""></v-card-subtitle>
                        <v-card-text>
                            <chart
                                    :container="'week_resourcess'"
                                    :chart="build_week_resources_chart()"
                                    :lang="strings.chart"
                            ></chart>
                            <span class="caption" @click="info">
                                <v-icon small v-text="'mdi-help-circle-outline'"></v-icon>
                                <span v-text="strings.about"></span>
                            </span>
                        </v-card-text>
                    </v-card>
                </v-col>

                <v-col cols="12" md="6">
                    <v-card elevation="2">
                        <v-card-title class="justify-center" v-text="strings.weeks_sessions_title"></v-card-title>
                        <v-card-subtitle class="text-center" v-text=""></v-card-subtitle>
                        <v-card-text>
                            <chart
                                    :container="'week_sessions'"
                                    :chart="build_weeks_sessions_chart()"
                                    :lang="strings.chart"
                            ></chart>
                            <span class="caption" @click="info">
                                <v-icon small v-text="'mdi-help-circle-outline'"></v-icon>
                                <span v-text="strings.about"></span>
                            </span>
                        </v-card-text>
                    </v-card>
                </v-col>
            </v-row>

            <v-row class="justify-center">
                <v-col sm="12">
                    <v-card class="remove-shadow make-border vuetify-datatable">
                        <v-card-title>
                            <span v-text="strings.teacher_indicators_student_progress"></span>
                            <v-spacer></v-spacer>
                            <v-text-field
                                    v-model="search"
                                    append-icon="search"
                                    single-line
                                    hide-details
                                    class="txt_search"
                            ></v-text-field>
                        </v-card-title>
                        <v-data-table
                                :headers="table_headers()"
                                :items="indicators.table"
                                item-key="id"
                                :search="search" dense multi-sort
                                :items-per-page="10"
                                class="elevation-3"
                        >
                            <template v-slot:item.id="{ item }">
                                <img :src="get_picture_url(item.id)" width="35px" heigth="35px" class="round-avatar"/>
                            </template>
                            <template v-slot:item.inverted_time="{ item }">
                                <span v-text="item.inverted_time_label"></span>
                            </template>
                            <template v-slot:item.progress_percentage="{ item }">
<!--                                <v-tooltip bottom>-->
<!--                                    <template v-slot:activator="{ on, attrs }">-->
<!--                                            <span-->
<!--                                                    v-bind="attrs"-->
<!--                                                    v-on="on"-->
<!--                                            >-->
<!--                                                <v-progress-circular-->
<!--                                                        :rotate="-90"-->
<!--                                                        :size="45"-->
<!--                                                        :width="5"-->
<!--                                                        :value="item.progress_percentage"-->
<!--                                                        color="primary"-->
<!--                                                >-->
<!--                                                    <span v-text="get_percentage_progress(item.progress_percentage)"></span>-->
<!--                                                </v-progress-circular>-->
<!--                                          </span>-->
<!--                                    </template>-->
<!--                                    <span v-text="get_progress_tooltip(item)"></span>-->
<!--                                </v-tooltip>-->

                                <span class="tooltips">
                                    <v-progress-circular
                                        :rotate="-90"
                                        :size="45"
                                        :width="5"
                                        :value="item.progress_percentage"
                                        color="primary"
                                    >
                                        <span v-text="get_percentage_progress(item.progress_percentage)"></span>
                                    </v-progress-circular>
                                    <span class="tooltiptext" v-text="get_progress_tooltip(item)"></span>
                                </span>
                            </template>

                        </v-data-table>
                    </v-card>
                </v-col>
            </v-row>


            <v-row class="justify-center">
                <span class="overline" v-text="get_timezone()"></span>
            </v-row>

        </v-container>
    </v-main>
</v-app>