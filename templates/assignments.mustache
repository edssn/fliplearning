<div id="sessions-loader">
    <div class="progressbar-fliplearning">
        <div class="indeterminate"></div>
    </div>
</div>

<v-app id="submissions" class="fliplearning">
    <v-main>
        <pageheader :pagetitle="strings.title" :helptitle="strings.helplabel" :exitbutton="strings.exitbutton"
                    :helpcontents="get_help_content()" :groups="groups" :courseid="courseid" :userid="userid"></pageheader>
        <v-container pa-8>
            <v-row v-if="loading">
                <span class="mb-1 mt-5 body-1" v-text="strings.graph_generating"></span>
                <v-progress-linear indeterminate color="cyan"></v-progress-linear>
            </v-row>
            <div v-else>
                <v-alert v-if="errors.length > 0" dense outlined type="error" v-text="strings.api_error_network"></v-alert>

                <pagination
                        :pages="pages" :name="strings.pagination_name" :nameseparator="strings.pagination_separator"
                        @changepage="update_interactions" :title="strings.pagination_title"></pagination>

                <v-row>
                    <v-col sm="12">
                        <chart :container="'assignsubs'" :chart="build_chart_submissions()"></chart>
                    </v-col>
                </v-row>

                <v-row justify="center">
                    <emailform
                            :dialog="dialog"
                            :selected_users="selected_users"
                            :strings="email_strings"
                            :moduleid="moduleid"
                            :courseid="courseid"
                            :userid="userid"
                            @update_dialog="update_dialog"
                    ></emailform>
<!--                    <v-dialog-->
<!--                            v-model="dialog"-->
<!--                            width="800"-->
<!--                            scrollable-->
<!--                    >-->
<!--                        <v-card>-->
<!--                            <v-toolbar color="primary" dark >-->
<!--                                <span v-text="emailform_title"></span>-->
<!--                                <v-spacer></v-spacer>-->
<!--                                <v-btn icon @click="reset">-->
<!--                                    <v-icon v-text="close_icon"></v-icon>-->
<!--                                </v-btn>-->
<!--                            </v-toolbar>-->

<!--                            <v-container>-->
<!--                                <v-row>-->
<!--                                    <v-col cols="12" sm="12">-->

<!--                                        <v-chip class="ma-2" color="primary" label>-->
<!--                                            <span v-text="recipients"></span>-->
<!--                                        </v-chip>-->

<!--                                        <template v-for="(user, index, key) in selected_users">-->
<!--                                            <v-chip class="ma-2">-->
<!--                                                <v-avatar left>-->
<!--                                                    <img :src="get_picture_url(user.id)">-->
<!--                                                </v-avatar>-->
<!--                                                <span>[[user.firstname]] [[user.lastname]]</span>-->
<!--                                            </v-chip>-->
<!--                                        </template>-->

<!--                                    </v-col>-->
<!--                                </v-row>-->

<!--                                <v-row>-->
<!--                                    <v-col cols="12" sm="12">-->
<!--                                        <v-form ref="form" v-model="valid_form">-->
<!--                                            <v-text-field-->
<!--                                                    v-model="email_strings.subject"-->
<!--                                                    :label="subject_label"-->
<!--                                                    :rules="subject_rules"-->
<!--                                                    required-->
<!--                                                    solo-->
<!--                                            ></v-text-field>-->

<!--                                            <v-textarea-->
<!--                                                    v-model="message"-->
<!--                                                    :label="message_label"-->
<!--                                                    :rules="message_rules"-->
<!--                                                    required-->
<!--                                                    solo-->
<!--                                            ></v-textarea>-->

<!--                                            <v-btn @click="submit" :disabled="!valid_form">-->
<!--                                                <span v-text="submit_button"></span>-->
<!--                                            </v-btn>-->

<!--                                            <v-btn @click="reset">-->
<!--                                                <span v-text="cancel_button"></span>-->
<!--                                            </v-btn>-->

<!--                                            <v-spacer></v-spacer>-->

<!--                                        </v-form>-->
<!--                                    </v-col>-->
<!--                                </v-row>-->
<!--                            </v-container>-->

<!--                        </v-card>-->
<!--                    </v-dialog>-->
                </v-row>


            </div>
        </v-container>
    </v-main>
</v-app>